<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>
EBX5 documentation - SQL Server Configuration on WebSphere Application Server 6.1</title>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"></meta><meta content="Copyright Orchestra Networks 2000-2013. All rights reserved." name="copyright"></meta><meta content="installation_j2ee_summary" name="doc_id"></meta><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_common.css"></link><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_docPage.css"></link><link rel="icon" type="image/x-icon" href="../resources/icons/brand.ico"></link></head>
<body class="ebx_simplePage">
<div id="ebx_centerer">
<div id="ebx_main">
<div id="printHeader">
<div class="productName">
EBX5</div>
<div class="chapterName">
EBX5 documentation</div>
</div>
<div id="ebx_breadcrumbTop">
<a id="ebx_navigationModeButton" href="../index.html?page=deployment_examples/SqlServerConfigurationOnWebSphere6.html" title="Display this page with header and navigation panes">Navigation mode</a><span class="ebx_breadcrumbLabel">EBX5 documentation</span></div>
<h1>
SQL Server Configuration on WebSphere Application Server 6.1</h1>
<div id="toc">
<h4 id="tocTitle">
Section contents</h4>
<ul class="toc1">
<li class="toc1"><a href="#id1">ebx.properties configuration</a></li><li class="toc1"><a href="#id2">SQL_SERVER_JDBC_DRIVER_PATH configuration</a></li><li class="toc1"><a href="#id3">JDBC providers configuration</a></li><li class="toc1"><a href="#id4">Connection pool timeout and transaction service timeout configuration</a></li><li class="toc1"><a href="#id5">EBX5.ear deployment</a></li></ul>
</div>
<h2>
<a name="id1"></a>ebx.properties configuration</h2>
<p> In section <em>« Persistence parameters »</em> of file ebx.properties, define <em>sqlserver</em> as the persistence database as follows: <em>ebx.persistence.factory=sqlserver</em>. Parameters url, user and password are not necessary, they are defined in WAS (WebSphere Application Server) data source configuration.</p><h2>
<a name="id2"></a>SQL_SERVER_JDBC_DRIVER_PATH configuration</h2>
<ol>
<li><p>Open WebSphere Administrative Console</p></li><li><p>Select Environment &gt; WebSphere Variables</p></li><li><p>Click on New</p></li><li><p>Input name SQL_SERVER_JDBC_DRIVER_PATH, enter the path to SQL Server JDBC driver libraries (the directory that contains file sqljdbc.jar)</p></li><li><p>Click on Apply button, then Save</p></li></ol>
<h2>
<a name="id3"></a>JDBC providers configuration</h2>
<ol>
<li><p>Select Resources &gt; JDBC Providers</p></li><li><p>Click on New</p></li><li><p> Step 1: Select the database type, select <em>User defined</em></p></li><li><p> Step 2: Modify the implementation class name <em>com.microsoft.sqlserver.jdbc.SQLServerConnectionPoolDataSource</em></p></li><li><p> Step 3: Modify the provider name <em>SQL Server JDBC Driver</em></p></li><li><p>Click on Next</p></li><li><p> Step 4: Modify class path <em>${SQL_SERVER_JDBC_DRIVER_PATH}/sqljdbc.jar</em></p></li><li><p>Click on Finish, then Save</p></li><li><p>Click on Data sources (Websphere Version 4) in Additional Properties</p></li><li><p>Click on New</p></li><li><p> Enter name <em>SQL Server JDBC Driver - 4.0 DataSource</em></p></li><li><p> Enter the necessary parameters: <em>Default user ID, Default password.</em> Database name may be left blank since we shall provide a connect URL. </p></li><li><p>Click on Apply, then Save</p></li><li><p>Select SQL Server JDBC Driver - 4.0 DataSource</p></li><li><p>Click on Custom properties in Additional Properties</p></li><li><p>Click New</p></li><li><p> Modify the property name <em>URL</em></p></li><li><p> Modify the property value, for example <em>jdbc:sqlserver://127.0.0.1:1043;databasename=ebx</em></p></li><li><p>Click on Apply, then Save</p></li><li><p> Click on <em>Test connection</em> button in page JDBC providers &gt; SQL Server JDBC Driver &gt; Data sources (version 4) &gt; SQL Server - 4.0 DataSource. </p></li><li><p>Check the message for the connection test</p></li></ol>
<h2>
<a name="id4"></a>Connection pool timeout and transaction service timeout configuration</h2>
<ol>
<li><p>Select Resources &gt; JDBC Providers &gt; SQL Server JDBC Driver &gt; Data sources (version 4) &gt; SQL Server JDBC Driver - 4.0 DataSource &gt; Connection pool properties, configure the parameters according to your needs</p></li><li><p>Select Servers &gt; Application Servers &gt; server name &gt; Container services &gt; Transaction service, configure the parameters according to your needs</p></li></ol>
<h2>
<a name="id5"></a>EBX5.ear deployment</h2>
<ol>
<li><p>In page Applications &gt; Install New Application, select the application to deploy (here EBX5.ear), then click next, next, continue</p><ol>
<li><p>Step 1: Specify options for installing enterprise applications and modules</p></li><li><p>Step 2: Map modules to servers</p></li><li><p>Step 3: Map resource references to resources, select the JNDI resource name already configured. In our example, it is jdbc/SQL Server JDBC Driver - 4.0 DataSource. Select the module ebx.war, enter the JNDI name in the displayed table, then click on <em>OK</em> button </p></li><li><p>Step 4: Map virtual hosts to web modules</p></li><li><p>Step 5: Summary, click on &quot;finish&quot; button</p></li></ol>
</li><li><p>If the application is already deployed, you can select Applications &gt; Enterprise Applications &gt; EBX5 &gt; Mapping resource references to resources</p></li></ol>
<div id="ebx_breadcrumbBottom">
<span class="ebx_breadcrumbLabel">EBX5 documentation</span></div>
</div>
<p id="ebx_footer"><b>EBX5 Version 5.6.1 Fix A [0985:0003]. </b>Copyright &copy; <a href="http://www.orchestranetworks.com" target="_blank" style="text-decoration: none;">Orchestra Networks</a> 2000-2015. All rights reserved.<br></br>Trademarks and brand names referred to in this web site relating to organizations other than Orchestra Networks are the property of those organizations and Orchestra Networks makes no claims to such property.</p></div>
<script type="text/javaScript" src="../resources/yui/yahoo/yahoo-min.js">
</script>
<script type="text/javaScript" src="../resources/yui/event/event-min.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_doc_utils.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_simplePage.js">
</script>
<script type="text/javaScript">
var ie6CompatibilityCSSURL = "../resources/stylesheets/ebx_ie6_compatibility.css";</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_ie6_compatibility.js">
</script>
</body>
</html>
