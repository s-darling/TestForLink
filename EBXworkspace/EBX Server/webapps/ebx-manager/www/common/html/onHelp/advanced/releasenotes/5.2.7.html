<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>
EBX5 documentation - 5.2.7</title>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"></meta><meta content="Copyright Orchestra Networks 2000-2013. All rights reserved." name="copyright"></meta><meta content="index_releasenotes" name="doc_id"></meta><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_common.css"></link><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_docPage.css"></link><link rel="icon" type="image/x-icon" href="../resources/icons/brand.ico"></link></head>
<body class="ebx_simplePage">
<div id="ebx_centerer">
<div id="ebx_main">
<div id="printHeader">
<div class="productName">
EBX5</div>
<div class="chapterName">
EBX5 documentation</div>
</div>
<div id="ebx_breadcrumbTop">
<a id="ebx_navigationModeButton" href="../index.html?page=releasenotes/5.2.7.html" title="Display this page with header and navigation panes">Navigation mode</a><span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
<h1>
5.2.7</h1>
<p><strong>Release Date: June 10, 2013</strong></p><div id="toc">
<h4 id="tocTitle">
In this version</h4>
<ul class="toc1">
<li class="toc1"><a href="#id1">Overview of 5.2.7</a></li><li class="toc1"><a href="#userInterface">User Interface</a><ul class="toc2">
<li class="toc2"><a href="#id2s1">Table history views following data space merges</a></li><li class="toc2"><a href="#id2s2">Rescue mode</a></li><li class="toc2"><a href="#id2s3">Maximum auto-size width for table columns</a></li></ul>
</li><li class="toc1"><a href="#workflow">Data workflows</a></li><li class="toc1"><a href="#deploy">Deploying and configuring EBX5</a></li><li class="toc1"><a href="#id5">Repository administration</a><ul class="toc2">
<li class="toc2"><a href="#id5s1">Exclusive repository ownership by JVMs</a></li><li class="toc2"><a href="#id5s2">Get repository status information</a></li><li class="toc2"><a href="#id5s3">Improved execution of version upgrade DDL scripts</a></li></ul>
</li><li class="toc1"><a href="#id6">Distributed data delivery (D3)</a><ul class="toc2">
<li class="toc2"><a href="#id6s1">Master node management console</a></li><li class="toc2"><a href="#id6s2">D3 API</a></li></ul>
</li><li class="toc1"><a href="#javaApi">Core Java API</a><ul class="toc2">
<li class="toc2"><a href="#validation">Validation API</a></li><li class="toc2"><a href="#roleDescription">Get role descriptions from the default directory</a></li></ul>
</li><li class="toc1"><a href="#versionUpgrade">Version upgrade</a><ul class="toc2">
<li class="toc2"><a href="#id8s1">Backward compatibility</a></li><li class="toc2"><a href="#id8s2">How to upgrade an installed environment</a></li></ul>
</li><li class="toc1"><a href="#bugfix">Bug Fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug-Dataservices">Data services</a></li><li class="toc2"><a href="#bug-DataspacesHistory">Data spaces &amp; History</a></li><li class="toc2"><a href="#bug-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug-Dataviews">Data views</a></li><li class="toc2"><a href="#bug-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug-DistributedDataDelivery">Distributed Data Delivery (D3)</a></li><li class="toc2"><a href="#bug-ImportExport">Import / Export</a></li><li class="toc2"><a href="#bug-J2EEIntegration">J2EE Integration</a></li><li class="toc2"><a href="#bug-Miscellaneous">Miscellaneous</a></li><li class="toc2"><a href="#bug-Userinterface">User interface</a></li><li class="toc2"><a href="#bug-UsersPermissions">Users &amp; Permissions</a></li></ul>
</li></ul>
</div>
<h2>
<a name="id1"></a>Overview of 5.2.7</h2>
<p>This version contains a number of evolutions, including:</p><ul>
<li><p>The history of a merged data space is now accessible from the table history view in the parent data space</p></li><li><p>A new administration console for D3 master repositories</p></li><li><p>A rescue mode in case of invalid user interface configuration</p></li></ul>
<p>To accommodate support of all the latest application servers, the Java EE deployment of EBX5 has standardized the declaration of resources. <strong>These changes have introduced some backward incompatibilities to the EBX5 main configuration file.</strong> See the section <a href="#deploy">Deploying and configuring EBX5</a> for more information.</p><p>Several improvements to the robustness have been made in various areas of EBX5. Notably, there are now added mechanisms to ensure exclusive EBX5 repository ownership by JVMs and enhanced traceability associated with JVM connections to repositories.</p><p>Furthermore, a number of enhancements have been made to the Java API.</p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
<strong>Before proceeding with the upgrade of an existing environment, ensure that you have carefully read the <a href="#versionUpgrade">Version upgrade</a> section</strong>. </fieldset>
<h2>
<a name="userInterface"></a>User Interface</h2>
<h3>
<a name="id2s1"></a>Table history views following data space merges</h3>
<p>When a data space is merged, its history is now accessible from the table history view of its parent data space. A new column has been added to the table history view for this purpose. For every create, update, or delete operation performed in a transaction involving a data space merge, this new field links to the history of operations that were performed on the current record in the child data space, which has since been merged.</p><p>Additionally, this field displays the user that performed the last operation in the child data space. This is different from the <em>User</em> field, which displays the user who performed the merge, but gives no information about the last user who modified the data before the merge. Thus, the merge field is particularly useful for automatic merges, where the value of the <em>User</em> field is often &#39;ebx-systemUser&#39;, as in the case of merge workflow script tasks.</p><p>The availability of this information requires that the current table history be activated in the child data space and not be deleted in the meantime.</p><h3>
<a name="id2s2"></a>Rescue mode</h3>
<p>A user interface &quot;rescue mode&quot; has been added to enable recovery in case an invalid user interface configuration is applied. See <a href="../engine/admin_frontend.html#ui">User interface configuration</a> for more information.</p><h3>
<a name="id2s3"></a>Maximum auto-size width for table columns</h3>
<p>It is now possible to set a maximum width to which table columns will auto-size. This prevents excessively wide columns for very long values in a table, such as URLs. The property is located in the Administration area, under &#39;User interface&#39; &gt; &#39;Graphical interface configuration&#39; &gt; &#39;Ergonomics and layout&#39; &gt; &#39;Maximum auto-width for table columns&#39;.</p><h2>
<a name="workflow"></a>Data workflows</h2>
<p>Workflows are now more robust due to improvements to their associated transactions.</p><p>A new <code>SessionInteraction</code> interface has been added to represent an interaction object, that is, the persistent run state of a UI service integrated in the workflow. This new interface replaces the methods of the class <code>InteractionHelper</code>. </p><p>The new method <code>Session.getInteraction</code> provides an access to the session&#39;s interaction, if it exists. It also provides the useful ability to look up an interaction in parent sessions.</p><p>The associated product documentation and Java API documentation have been updated and improved.</p><p>See <a href="../references/ui_services.html#integration">Integration of UI services with workflows or perspectives</a>, <a target="_blank" href="../Java_API/com/orchestranetworks/interactions/SessionInteraction.html">SessionInteraction</a> and <a target="_blank" href="../Java_API/com/orchestranetworks/service/Session.html#getInteraction(boolean)">getInteraction</a> for more information.</p><h2>
<a name="deploy"></a>Deploying and configuring EBX5</h2>
<p>In order to standardize and simplify the deployment of EBX5 web applications, all resources normally managed in the operational environment of the application server are now declared in the <code>web.xml</code> deployment descriptor of the web application &#39;ebx&#39;. As a result of the deployment descriptor now defining the names of certain environment variables, those properties are no longer included in the EBX5 main configuration file. This implies several changes that affect <a href="#main_config">backward compatibility</a>.</p><p>Additionally, the availability of defined resources is now verified at EBX5 initialization. If any issues are detected in the deployment or configuration of the application, the initialization is stopped.</p><p>See <a href="../installation/deploy_on_j2ee.html#ebx_webapp">Deployment details</a> and <a href="../installation/properties.html">EBX5 main configuration file</a> in the product documentation for more information.</p><h2>
<a name="id5"></a>Repository administration</h2>
<h3>
<a name="id5s1"></a>Exclusive repository ownership by JVMs</h3>
<p>Additional mechanisms have been introduced to ensure that each EBX5 repository has only one associated running JVM at any given time.</p><p>Logging has also been introduced to facilitate auditing the events associated with JVM connections to repositories. The logs can be viewed in the Administration area, under &#39;History and logs&#39; &gt; &#39;Repository connection log&#39;.</p><p>See <a href="../engine/repository_administration.html#single_jvm">Single JVM per repository</a> for more information</p><h3>
<a name="id5s2"></a>Get repository status information</h3>
<p>It is now possible to retrieve the status of the repository using the Java API or by using a HTTP request.</p><p>See <a href="../engine/repository_administration.html#status_info">Repository status information and logs</a> and <a target="_blank" href="../Java_API/com/orchestranetworks/instance/RepositoryStatus.html">RepositoryStatus</a> for more information.</p><h3>
<a name="id5s3"></a>Improved execution of version upgrade DDL scripts</h3>
<p>The execution of version upgrade DDL scripts has been made more robust than that of previous versions. Specifically, it has been improved for cases where the scripts are interrupted unexpectedly, and also for implicit transaction commits on Oracle and H2.</p><h2>
<a name="id6"></a>Distributed data delivery (D3)</h2>
<h3>
<a name="id6s1"></a>Master node management console</h3>
<p>New information on broadcasts and slave initialization is now provided by a management console in the Administration area under &#39;[D3] Master configuration&#39;. The console displays information concerning these processes, such as:</p><ul>
<li><p>Associated slave repositories, delivery data spaces, profiles, times, and versions</p></li><li><p>Status of operations</p></li><li><p>Associated messages</p></li><li><p>Associated errors in cases of failure</p></li></ul>
<p>See <a href="../engine/d3_admin.html#console">Master node management console</a> for more information.</p><h3>
<a name="id6s2"></a>D3 API</h3>
<h4>
Get registered D3 slaves from a delivery data space</h4>
<p>A new method has been added to retrieve the collection of registered D3 slaves from a delivery data space.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/d3/D3Engine.html#getRegisteredSlaves(com.orchestranetworks.instance.BranchKey)">D3Engine.getRegisteredSlaves(com.orchestranetworks.instance.BranchKey)</a> in the Java API for more information.</p><h4>
Get the state of a D3 slave</h4>
<p>The interface <code>D3SlaveState</code> has been added to allow getting the state of a D3 slave repository. See <a target="_blank" href="../Java_API/com/orchestranetworks/d3/D3Slave.State.html">D3Slave.State</a> in the Java API for more information.</p><h4>
Broadcast in synchronous mode</h4>
<p>The interface <code>D3Broadcast</code> has been added to allow setting the details of a broadcast and to retrieve the end state of the broadcast.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/d3/D3Broadcast.html">BroadcastHandler</a> and <a target="_blank" href="../Java_API/com/orchestranetworks/d3/D3Broadcast.html#broadcast()">D3Broadcast.broadcast()</a> in the Java API for more information.</p><h2>
<a name="javaApi"></a>Core Java API</h2>
<h3>
<a name="validation"></a>Validation API</h3>
<h4>
Retrieve record validation messages added by table constraints</h4>
<p>The method <code>Adaptation.getValidationReport()</code> has been enhanced. When this method is called on a record, it is now possible to retrieve the validation messages related to that record that have been added by a <code>ConstraintOnTable</code>.</p><p><code>Adaptation.getValidationReport()</code> has also been enhanced to take into account specific constraints on tables that implement checks at the record level. That is, the method <code>ConstraintOnTableWithRecordLevelCheck.checkRecord(ValueContextForValidationOnRecord)</code> is now called upon record validation if the container table defines constraints with record-level checks. As a result, <code>checkRecord</code> is no longer only called for user input.</p><p>For more information, see <a target="_blank" href="../Java_API/com/onwbp/adaptation/Adaptation.html#getValidationReport()">Adaptation.getValidationReport()</a> and <a target="_blank" href="../Java_API/com/orchestranetworks/schema/ConstraintOnTableWithRecordLevelCheck.html#checkRecord(com.orchestranetworks.instance.ValueContextForValidationOnRecord)">ConstraintOnTableWithRecordLevelCheck.checkRecord(ValueContextForValidationOnRecord)</a> in the Java API.</p><h4>
<a name="removeRecordFromMessages"></a>Remove records from validation messages</h4>
<p>The method <code>ValueContextForValidationOnRecord.removeRecordFromMessages(ValueContext)</code> has been added to the interface <code>ValueContextForValidationOnRecord</code>. This method allows removing specific records from validation messages that may have been added by a <code>ConstraintOnTable</code> when performing a table-level or record-level check.</p><p>For more information, see <a target="_blank" href="../Java_API/com/orchestranetworks/instance/ValueContextForValidationOnRecord.html#removeRecordFromMessages(com.orchestranetworks.instance.ValueContext)">ValueContextForValidationOnRecord.removeRecordFromMessages(ValueContext)</a> in the Java API.</p><h3>
<a name="roleDescription"></a>Get role descriptions from the default directory</h3>
<p>A new method has been added to allow the retrieval of specific role descriptions from the default directory.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/directory/DirectoryDefault.html#getRoleDescription(com.orchestranetworks.service.Role, java.util.Locale)">DirectoryDefault.getRoleDescription()</a> in the Java API for more information.</p><h2>
<a name="versionUpgrade"></a>Version upgrade</h2>
<h3>
<a name="id8s1"></a>Backward compatibility</h3>
<p>This version introduces the following backward compatibility issues.</p><h4>
<a name="main_config"></a>Java EE deployment and configuration changes</h4>
<p>Due to evolutions to the deployment and configuration of EBX5, where all resources are now declared in the deployment descriptor of the web application &#39;ebx&#39;, several backwards incompatibilities have been introduced:</p><ul>
<li><p>If configuring the repository data source using the standard deployment method, the optional property <code>ebx.persistence.url</code> must not be present in the EBX5 main configuration file or else the former will be ignored.</p></li><li><p>If configuring the Java Mail session using the standard deployment method, the property <code>ebx.mail.smtp.host</code> must be removed from the EBX5 main configuration file or else the former will be ignored.</p></li><li><p>For JMS, if no specific endpoint is given in Lineage administration, the default endpoint used will be <code>java:comp/env/jms/${ebx.jms.queue.in}</code> instead of the previous value, <code>jms:queue:${ebx.jms.queue.in}</code>.</p></li><li><p>In order to activate the JMS queue for failures, the new property <code>ebx.jms.activate.queueFailure</code> has been added.</p></li></ul>
<p>Additionally, certain obsolete properties <em>must</em> be removed from the main configuration file:</p><ul>
<li><p>The repository data source optional property <code>ebx.persistence.datasource</code></p></li><li><p>The Java Mail property <code>ebx.mail.datasource</code></p></li><li><p>The JMS properties <code>ebx.jms.connection.factory</code>, <code>ebx.jms.queue.in</code>, and <code>ebx.jms.queue.failure</code></p></li></ul>
<p>See <a href="#deploy">Deploying and configuring EBX5</a> and <a href="../installation/deploy_on_j2ee.html">Java EE deployment</a> for more information.</p><h4>
Stricter data model compilation requirements</h4>
<p>As a consequence of fixing <a href="#bug_6790">bug 6790</a>, the data model compilation process is now stricter regarding data models that define User Defined Attributes, using <code>osd:uda</code>. That is, these data models are now verified for any unsupported features defined on User Defined Attributes. As a consequence, you must manually remove unsupported features <em>before upgrading</em> to this version, as they now raise errors at data model compilation time.</p><p>See <a href="../models/types.html#ebxUDARestrictions">UDA restrictions</a> for more information.</p><p>As a consequence of fixing <a href="#bug_4508">bug 4508</a>, the data model compilation process is now stricter regarding data models that define foreign key constraints that reference non-existent containers. That is, these data models are now considered invalid when they refer to a container that does not exist, whereas, in previous versions this resulted in a warning.</p><p> See the sections <a href="../models/tables.html#foreignKey">Foreign keys</a> and <a href="../models/tables.html#select">Selection nodes</a> for more information.</p><p>As a consequence of fixing <a href="#bug_7079">bug 7079</a>, the data model compilation process is now stricter regarding data models that define inherited fields referencing themselves as the source record. That is, these data models are now considered invalid when a field is a foreign key and inherited field that refers to itself using the property <code>sourceRecord</code>.</p><h4>
Check and remove duplicate and obsolete validation messages</h4>
<p>As a consequence of the evolution concerning the method <code>Adaptation.getValidationReport()</code>, existing constraints on tables that perform checks at the record level using the method <code>ConstraintOnTableWithRecordLevelCheck.checkRecord(ValueContextForValidationOnRecord)</code> must be verified in order to ensure that no conflicts exist between the validation messages added by checks at the table level and checks at the record level. To remove duplicate or obsolete validation messages, the new method <code>ValueContextForValidationOnRecord.removeRecordFromMessages(ValueContext)</code> must be now used.</p><p>See <a href="#removeRecordFromMessages">Remove records from validation messages</a> for more information.</p><h3>
<a name="id8s2"></a>How to upgrade an installed environment</h3>
<p>In order to upgrade your version of EBX5, perform the following steps:</p><ol>
<li><p>Backup your repository, including the RDBMS and the directory <code>ebx.repository.directory</code>.</p></li><li><p>Replace the <code>*.war</code> and <code>ebx.jar</code> files on your application server.</p></li></ol>
<div class="ebx_noteDiv">
<h5 class="ebx_noteTitle">
<b>Note</b></h5>
<p class="ebx_note"><strong>If using EBX5 add-ons, ensure that the versions of the add-ons are compatible with EBX5 version 5.2.7 before upgrading. </strong> For the backward compatibility of the add-ons themselves, consult the release notes of the add-ons.</p></div>
<h2>
<a name="bugfix"></a>Bug Fixes</h2>
<h3>
<a name="bug-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_6834"></a><strong>[6834]</strong> Optimization of the purge process for orphan blocks. </p><p>For large volumes of tables HTB and BRV, the purge takes too long. The algorithm could be improved by collecting orphan blocks only once, then processing them in batches.</p></li><li><p><a name="bug_7099"></a><strong>[7099]</strong> An error occurs when initializing a module. </p><p>An exception occurs when initializing a module that defines permissions on its services.</p></li><li><p><a name="bug_7119"></a><strong>[7119]</strong> Unnecessary exclusive locks are acquired during archive exports. </p><p>When an archive is exported, low-level exclusive locks are acquired. If slow <code>NodeDataTransformer</code> objects are involved in the archive export, such locks are not necessary and may block other concurrent accesses to the table being exported.</p></li></ul>
<h3>
<a name="bug-Datamodeling"></a>Data modeling</h3>
<ul>
<li><p><a name="bug_4508"></a><strong>[4508]</strong> An <code>osd:tableRef</code> without a container is problematic in mapped mode. </p><p>When an <code>osd:tableRef</code> is specified but the target container does not exist, it creates inconsistencies in relational mode and for history even though only a warning is reported. Since the <code>osd:tableRef</code> is not complete, the wrong structure is created in the relational schema.</p></li><li><p><a name="bug_6092"></a><strong>[6092]</strong> Dynamic minimum/maximum/fixed length source fields are not checked at data model publish time. </p><p>In the DMA, when the user sets a non-integer field as the source of the minimum, maximum, or fixed length value, no error is reported upon publishing the model. In data sets, an unfriendly message is displayed to the user when the field value is checked against the constraint.</p></li><li><p><a name="bug_6102"></a><strong>[6102]</strong> A fatal error occurs after creating a record containing a UDA field that defines a dynamic enumeration. </p><p>When the user creates a new record that contains a user-defined attribute defining a dynamic enumeration, an exception occurs.</p></li><li><p><a name="bug_6256"></a><strong>[6256]</strong> Relative paths for table references cause record creations to fail. </p><p>Creating a target record with the button &#39;+&#39; in a record creation form fails if <code>osd:tableRef/tablePath</code> is defined by a relative path.</p></li><li><p><a name="bug_6638"></a><strong>[6638]</strong> Should not be possible to create entries in Catalog of User Defined Attributes without a &#39;Type&#39;. </p><p>This problem occurs when the user creates a record in the Catalog of User Defined Attributes without specifying a type. The record is created, however it has a validation error that cannot be corrected since the field &#39;Type&#39; becomes read-only at creation.</p></li><li><p><a name="bug_6763"></a><strong>[6763]</strong> French label of &quot;Default rendering for groups&quot; is incorrect in the table properties. </p><p>In the table properties in the DMA, the labels for the property &quot;Default rendering for groups&quot; is incorrect in French. The expanded value is labelled &quot;R&eacute;duit&quot; and collapsed value is labelled &quot;d&eacute;velopp&eacute;&quot;.</p></li><li><p><a name="bug_6790"></a><strong>[6790]</strong> An unexpected error occurs when the error message of a validation rule contains brace brackets. </p><p>An unexpected error occurs when validation is run on a field which contains the characters &#39;{&#39; or &#39;}&#39; in the error message of the validation rule.</p></li><li><p><a name="bug_6800"></a><strong>[6800]</strong> Expanded and collapsed options on the default view rendering mode do not work on a terminal node. </p><p>The default view rendering mode does not work on terminal and under-terminal nodes.</p></li><li><p><a name="bug_6877"></a><strong>[6877]</strong> In the DMA, the &#39;Conversion error message&#39; field stops working after an error occurs at form submit. </p><p>If a validation error occurs when the user submits the simple controls form for a field, the &#39;Conversion error message&#39; property field stops working.</p></li><li><p><a name="bug_6975"></a><strong>[6975]</strong> A schema compilation error occurs when an XPath filter is defined on a foreign key. </p><p>If an XPath filter defined on a foreign key contains several computed fields, a compilation error occurs.</p></li><li><p><a name="bug_7137"></a><strong>[7137]</strong> Incorrect behavior of computation rule interface when using criteria containing &#39;=&#39; or &#39;!=&#39; operators in their conditions. </p><p>This issue occurs when the user creates a computation rule containing criteria with the operator &#39;=&#39; or &#39;!=&#39;. When the user then edits this rule, the criteria is modified to contain invalid operators.</p></li><li><p><a name="bug_7138"></a><strong>[7138]</strong> An error occurs when editing a conditional rule when the predicate is not atomic. </p><p>This issue occurs when a computation or validation rule is a conditional rule for which the predicate is a logical predicate. The condition is deleted when the user submits the form.</p></li><li><p><a name="bug_7171"></a><strong>[7171]</strong> Incorrect error is displayed when adding a field to a formula in a computation rule condition. </p><p>An incorrect error is displayed when adding a field to a formula in a computation rule condition. When this happens, the validity of the formula is checked against the wrong field.</p></li><li><p><a name="bug_7192"></a><strong>[7192]</strong> Cannot create a new data set after creating a new publication for a data model, then publishing an existing publication. </p><p>If the user creates a new publication for a data model, but republishes a previous publication, schema errors are reported when creating a data set for this model.</p></li></ul>
<h3>
<a name="bug-Dataservices"></a>Data services</h3>
<ul>
<li><p><a name="bug_6741"></a><strong>[6741]</strong> Empty WSDL generated if lineage configuration is incomplete. </p><p>In the configuration of lineage, if the &#39;SOAP Header Security declaration&#39; is defined, but &#39;Schema location&#39; is not defined, then EBX5 generates an empty WSDL.</p></li><li><p><a name="bug_7116"></a><strong>[7116]</strong> JMS request parameter is overwritten during data service operations. </p><p>EBX5 overwrites the parameter <code>correlationID</code> in JMS requests. This results in a different <code>correlationID</code> in the response.</p></li><li><p><a name="bug_7169"></a><strong>[7169]</strong> Data service <code>getChanges</code> should raise error if data is hidden for the profile executing the operation. </p><p>The data service <code>getChanges</code> currently returns a change set with no visible data if the profile does not have sufficient permissions to access the data. Instead, no change set should be returned, and an appropriate error should be raised.</p></li></ul>
<h3>
<a name="bug-DataspacesHistory"></a>Data spaces &amp; History</h3>
<ul>
<li><p><a name="bug_6469"></a><strong>[6469]</strong> On IE7 and IE8, a new record gets created automatically after downloading an export of a history table. </p><p>EBX5 automatically creates a new record after the user performs an export on the history table with the setting &quot;Auto prompting for the file downloads&quot; disabled in IE.</p></li><li><p><a name="bug_6511"></a><strong>[6511]</strong> If historization is activated, in some cases validation does not show errors when maximum string length is exceeded. </p><p>When history is activated, if a string&#39;s maximum length is lowered, no validation errors are displayed in the report for strings longer than the new value.</p></li><li><p><a name="bug_7017"></a><strong>[7017]</strong> Duplicate records in the table <code>HV_USER</code>. </p><p>There are several records referencing the same user in the table <code>HV_USER</code> in a repository.</p></li><li><p><a name="bug_7026"></a><strong>[7026]</strong> An error occurs when history is activated on a schema with foreign keys that reference other data sets. </p><p>If a schema contains a foreign key that references another data set and if the target container of the foreign key does not yet exist, a warning appears at schema compilation stating that the compilation is not complete. If history is then turned on, an exception occurs.</p></li><li><p><a name="bug_7148"></a><strong>[7148]</strong> An error occurs when only updating fields that have history disabled in a historized table. </p><p>If no historized fields are modified in a historized table during an update, an exception occurs.</p></li><li><p><a name="bug_7201"></a><strong>[7201]</strong> A SQL exception may occur when accessing historized tables in an H2 database. </p><p>In certain cases, using H2 databases with EBX5 may cause errors due to their internal locking policy. The fix for this is turning on the MVCC feature for H2. See http://www.h2database.com/html/advanced.html#mvcc.</p></li><li><p><a name="bug_7208"></a><strong>[7208]</strong> History is not deleted from the database table when performing a history purge. </p><p>When performing a history purge, some associated rows are not deleted from the database table. (However, they will no longer be referenced from history features.)</p></li><li><p><a name="bug_7214"></a><strong>[7214]</strong> The length of a mapped string type is not updated when the schema is modified. </p><p>If the length or <code>maxLength</code> facet is modified in the schema of a historized or relational table, the modification does not take effect in the table.</p></li></ul>
<h3>
<a name="bug-Datavalidation"></a>Data validation</h3>
<ul>
<li><p><a name="bug_6503"></a><strong>[6503]</strong> Validation messages filter does not show records with messages added by a <code>ConstraintOnTable</code>. </p><p>When filtering the records of a table by their associated validation messages, records that have messages added by a <code>ConstraintOnTable</code> not displayed.</p></li><li><p><a name="bug_6831"></a><strong>[6831]</strong> Validation messages added by a <code>ConstraintOnTable</code> may be lost when validating a record. </p><p>Validation messages added by a <code>ConstraintOnTable</code> and targeting a specific node in a record using the method <code>ValueContextForValidationOnTable.addMessage(Adaptation, SchemaNode, UserMessage)</code> may be lost when validating a record.</p></li><li><p><a name="bug_6863"></a><strong>[6863]</strong> Incorrect handling of validation messages when using table triggers. </p><p>This issue occurs when the values of a record are modified during the execution of a table trigger. The validation report that appears after submitting the record editing form can be incorrect.</p></li></ul>
<h3>
<a name="bug-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_5842"></a><strong>[5842]</strong> No error message given when performing a key search on an invalid value. </p><p>In a data set, no error message is given when the user inputs a value for a key search that does not correspond to the data type of the field.</p></li><li><p><a name="bug_6325"></a><strong>[6325]</strong> Incorrect record is displayed if an inherited record is overridden in a child data set. </p><p>In a child data set where all records are inherited, if the user overrides and modifies a record, the tabular view displays the inherited record instead of the modified record.</p></li><li><p><a name="bug_6620"></a><strong>[6620]</strong> An error occurs occurs when moving a hierarchy node with an <code>unset</code> parent. </p><p>A <code>NullPointerException</code> occurs when moving or attaching a hierarchy node with an <code>unset</code> parent in the case of an n-n relationship. This action should not be allowed as the action <code>detach</code> achieves the same result.</p></li><li><p><a name="bug_6630"></a><strong>[6630]</strong> Comparison interface filters do not function correctly on user defined attributes. </p><p>In the record comparison interface, some differences between user defined attribute values still appear in views that should only contain similarities.</p></li><li><p><a name="bug_6652"></a><strong>[6652]</strong> No error displayed for missing mandatory passwords. </p><p>When a password field is mandatory, the user interface does not display an error message if it is left empty.</p></li><li><p><a name="bug_6733"></a><strong>[6733]</strong> The node ordering property is forced into alphabetic sort in <code>pruned/search</code> mode. </p><p>In a hierarchy, when the user sets the <code>pruned</code> mode or uses the search tool, the configured ordering field is ignored and the nodes are sorted alphabetically. Also, <code>auto-increment</code> does not work properly as an ordering field.</p></li><li><p><a name="bug_6766"></a><strong>[6766]</strong> When creating a custom view, the user can see elements that have access properties set to &quot;Out of Adaptation&quot;. </p><p>An element is still visible during custom view creation even if its access mode is set to &#39;Out of Adaptation&#39;. Such elements should not be displayed.</p></li><li><p><a name="bug_6776"></a><strong>[6776]</strong> Bulk move action on a recursive hierarchy does not work properly. </p><p>On a recursive hierarchy with a selection of multiple nodes, clicking on the move item on selection results in an improper display state that prevents the bulk move from completing.</p></li><li><p><a name="bug_7020"></a><strong>[7020]</strong> Data set may have an incorrect schema reference if created concurrently with another. </p><p>Due to a conflict of concurrent access, a data set that the user creates using the user interface may refer to another schema than the one expected.</p></li><li><p><a name="bug_7079"></a><strong>[7079]</strong> An error occurs when creating a new record with a field that is both a foreign key and an inherited field. </p><p>When creating a record with a field that is both a foreign key and an inherited field that inherits from itself, the user interface displays a blank screen.</p></li><li><p><a name="bug_7083"></a><strong>[7083]</strong> An error occurs if a field defines a validation rule with a criteria formula referencing another node. </p><p>This issue occurs when a user defines a validation rule on a field that references another field with a criteria formula. An error message is displayed when submitting the form.</p></li><li><p><a name="bug_7223"></a><strong>[7223]</strong> It is not possible to define criteria on an element of a multi-occurrence group. </p><p>When creating a custom view, it is not possible to define criteria on an element of a multi-occurrence group.</p></li><li><p><a name="bug_7250"></a><strong>[7250]</strong> Blank page after reloading a key/advanced search pop-up. </p><p>In a data set, if the user reloads a key search or advanced search pop-up frame, the user interface gets stuck on a blank page.</p></li><li><p><a name="bug_7251"></a><strong>[7251]</strong> Blank page after reloading custom views advanced filter pop-up. </p><p>When creating a custom view for a table, if the user reloads the pop-up for creating an advanced filter, the user interface displays a blank page.</p></li></ul>
<h3>
<a name="bug-Dataworkflows"></a>Data workflows</h3>
<ul>
<li><p><a name="bug_4308"></a><strong>[4308]</strong> Workflow must be improved to be more robust. </p><p>- It is necessary to handle degraded cases.</p><p>- Controls must be added to avoid inopportune deletions (in particular on a terminate and clean of a process, only one token must be deleted).</p><p>- All workflow procedures must be transactional (creation, deletion ...).</p></li><li><p><a name="bug_6502"></a><strong>[6502]</strong> Action &#39;Duplicate a record&#39; does not work on tables with a complex data type. </p><p>If a table has a complex data type, the action &#39;Duplicate a record&#39; from a data workflow does not work.</p></li><li><p><a name="bug_6694"></a><strong>[6694]</strong> Blocked on wait screen when performing action on a deleted object. </p><p>When the user inputs data into a form while another user concurrently deletes the related content, a wait page is displayed and an exception is logged.</p></li><li><p><a name="bug_6735"></a><strong>[6735]</strong> Interaction variables are lost in certain cases. </p><p>When a user task is completed several times, the associated interaction variables may be lost.</p></li><li><p><a name="bug_6754"></a><strong>[6754]</strong> Incomplete message is displayed after clicking to disable a workflow. </p><p>After disabling a workflow, the user interface displays a message that inserts &quot;null&quot; for the label of the publication.</p></li><li><p><a name="bug_6857"></a><strong>[6857]</strong> A fatal error may occur when replaying a step of a workflow when a work item error has no reason set in the token. </p><p>If the user replays a step of a data workflow when an associated work item is in the error state, a <code>NullPointerException</code> may occur. This happens if no reason has been set for the error in the token.</p></li><li><p><a name="bug_6858"></a><strong>[6858]</strong> A fatal error may occur when replaying a step of a workflow when a work item error has no reason set in the work item. </p><p>If the user replays a step of a data workflow when an associated work item is in the error state, a <code>NullPointerException</code> may occur. This happens if no reason has been set for the error in the work item.</p></li><li><p><a name="bug_6989"></a><strong>[6989]</strong> Cannot override steps in workflow models. </p><p>If a workflow step has previously been overridden and is later reset to be inherited, it cannot be overridden again.</p><p>Note: This fix prevents this bug from occurring in new workflow models, but does not fix existing workflow models that have already overridden steps.</p></li><li><p><a name="bug_6990"></a><strong>[6990]</strong> Setting a workflow step to inherit from its parent model also sets this step to inherit in other inherited workflow models. </p><p>When a step in one inherited workflow model is set to inherit from its parent workflow model, the step in all other inherited workflow models are also set to inherit. Steps in individual child workflow models should stay overidden if they have been set this way.</p></li><li><p><a name="bug_6991"></a><strong>[6991]</strong> In a child workflow model, the action to detach a step is proposed, but is not supported. </p><p>The action to detach a step in a child workflow model should not be displayed as it is unsupported.</p></li><li><p><a name="bug_6992"></a><strong>[6992]</strong> Work item reports the wrong start date. </p><p>The start date value that is displayed is in fact the end date of the work item.</p></li><li><p><a name="bug_7061"></a><strong>[7061]</strong> Notification emails are also sent to the user&#39;s role. </p><p>When a work item is created and allocated using the method <code>CreationWorkItemSpec.forAllocationWithPossibleReallocation(UserReference, Role)</code>, the notification email is also sent to the role upon work item allocation.</p></li></ul>
<h3>
<a name="bug-DistributedDataDelivery"></a>Distributed Data Delivery (D3)</h3>
<ul>
<li><p><a name="bug_7150"></a><strong>[7150]</strong> D3 slave nodes must notify the master node upon shutdown. </p><p>When a D3 slave node shuts down, it must unregister itself from the master node.</p></li></ul>
<h3>
<a name="bug-ImportExport"></a>Import / Export</h3>
<ul>
<li><p><a name="bug_6233"></a><strong>[6233]</strong> Hidden fields may be exported to CSV. </p><p>When exporting a table to CSV, if a hidden access rule is set on a group/complex node, the child fields of this node are still exported.</p></li><li><p><a name="bug_6382"></a><strong>[6382]</strong> An error occurs when importing an archive in delta mode with a foreign key constraint. </p><p>An <code>InvalidSchemaException</code> occurs when importing an archive in delta mode. This error occurs if the archive contains a data set that defines a foreign key constraint referencing a container not in the archive.</p></li><li><p><a name="bug_6813"></a><strong>[6813]</strong> Input stream is not closed if an error occurs during import. </p><p>If an error occurs during an import, the input stream remains open. The import process should close the stream after terminating for any reason.</p></li><li><p><a name="bug_6820"></a><strong>[6820]</strong> An error occurs if a data set does not exist in the target data space when importing an archive. </p><p>A <code>NullPointerException</code> occurs if the data set does not exist in the target data space when importing an archive with a change set. The user interface displays a white screen.</p></li><li><p><a name="bug_6932"></a><strong>[6932]</strong> An error is displayed inappropriately when navigating through the import interface. </p><p>The error message &quot;Invalid request&quot; is displayed inappropriately when using the &quot;Back&quot; button in the import interface.</p></li><li><p><a name="bug_7071"></a><strong>[7071]</strong><code>Export on table</code> actions from a hierarchy view do not take into account hierarchy filters. </p><p>If the user performs a CSV or XML export on a table from a hierarchy view, the export does not take into account any filters that are applied.</p></li><li><p><a name="bug_7130"></a><strong>[7130]</strong> An error occurs when importing an archive with a data set that defines an inherited attribute. </p><p>An <code>InvalidSchemaException</code> occurs when during the import of an archive in delta mode. This error occurs when the archive contains a data set that defines an inherited attribute sourcing its value from another data set not contained in the archive.</p></li></ul>
<h3>
<a name="bug-J2EEIntegration"></a>J2EE Integration</h3>
<ul>
<li><p><a name="bug_6747"></a><strong>[6747]</strong> On Websphere application server, no stack trace appears for exceptions in the logs. </p><p>Due to incompatibilities with the IBM JDK, stack traces are not logged for exceptions in EBX5.</p></li></ul>
<h3>
<a name="bug-Miscellaneous"></a>Miscellaneous</h3>
<ul>
<li><p><a name="bug_7090"></a><strong>[7090]</strong> XPath requests in URL result in error. </p><p>When accessing the user interface using a URL that contains an XPath, if the XPath contains an <code>OR</code> operator and the two atomic criteria each match different records, no records are returned.</p></li></ul>
<h3>
<a name="bug-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_4481"></a><strong>[4481]</strong> A created record with an auto-incremented primary key will be duplicated if the browser is refreshed. </p><p>If a table record has an auto-incremented primary key and user creates a new record by clicking the button &#39;Submit and close&#39;, a duplicate of the record gets created if the user refreshes the browser.</p></li><li><p><a name="bug_6060"></a><strong>[6060]</strong> When importing an invalid archive, the user is disconnected and a white screen is displayed. </p><p>If an archive is exported in &quot;updates only&quot; mode and edited to make it XML-invalid, re-importing it causes the user session to be disconnected and the user interface displays a white screen.</p></li><li><p><a name="bug_6163"></a><strong>[6163]</strong> Duplicating the browser tab results in inconsistencies in the data. </p><p>When the user duplicates the browser tab, then accesses and submits a record form in the new tab, the form in the original tab is updated instead.</p></li><li><p><a name="bug_6170"></a><strong>[6170]</strong> No interaction map follow up between sessions and sub-sessions. </p><p>This issue occurs when accessing records from a selection node in a table displayed in a data workflow. An interaction map used by the workflow is lost as it is in a sub session. The same problem occurs if the user uses a UI service from the table.</p></li><li><p><a name="bug_6390"></a><strong>[6390]</strong> Handling of invalid user interface configurations. </p><p>If invalid values are set under Administration &gt; User interface &gt; Interface Configuration, the interface may become unavailable. There should be a way to recover from such a situation.</p></li><li><p><a name="bug_6654"></a><strong>[6654]</strong> Hide similarities in comparison view. </p><p>The action &#39;Show All&#39; action does not show similarities that were previously hidden.</p></li><li><p><a name="bug_6822"></a><strong>[6822]</strong> When an advanced filter on a table is saved, it is not available in child data sets. </p><p>Persisted advanced filters should be inherited between data sets. If the user first accesses the data set in which the filter was saved, then acceses the inherited data set, the filter appears correctly in both data sets. If, however, the user accesses the inherited data set first, then accesses the parent data set, the filter is missing for both.</p></li><li><p><a name="bug_6870"></a><strong>[6870]</strong> Third-party JavaScript code is called too early. </p><p>JavaScript code that is added using <code>UIJavaScriptWriter</code> is executed too early. It should be invoked after the loading layer is hidden.</p></li><li><p><a name="bug_6927"></a><strong>[6927]</strong> Hierarchy node labels are displayed instead of user profile labels. </p><p>If a hierarchy node is selected when the user edits the user profile, the label that the user interface displays is that of the hierarchy node.</p></li><li><p><a name="bug_7051"></a><strong>[7051]</strong> Escaped &#39;<code>?</code>&#39; wild card is not interpreted correctly by text search. </p><p>In order to search for text containing a wild card, the wild card must be escaped by prefixing it with a backslash &#39;<code>\</code>&#39;. If the searched text contains more than one word, the wild card <code>&#39;?&#39;</code> is not properly escaped.</p></li><li><p><a name="bug_7247"></a><strong>[7247]</strong> Constraint &#39;FacetOResource&#39; cannot be set after having set it to not defined. </p><p>In the DMA, once the user has set the field for the constraint &#39;FacetOResource&#39; to not defined and submitted the form, the field can no longer be defined after.</p></li></ul>
<h3>
<a name="bug-UsersPermissions"></a>Users &amp; Permissions</h3>
<ul>
<li><p><a name="bug_6264"></a><strong>[6264]</strong> Using a programmatic service can modify the authenticated session property &#39;trackingInfo&#39;. </p><p>The method <code>setSessionTrackingInfo</code> in the class <code>ProgrammaticService</code> modifies the session <code>trackingInfo</code>. The JavaDoc must document this side effect for the case where the session is the current user session that is used in the user interface.</p></li></ul>
<div id="ebx_breadcrumbBottom">
<span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
</div>
<p id="ebx_footer"><b>EBX5 Version 5.6.1 Fix A [0985:0003]. </b>Copyright &copy; <a href="http://www.orchestranetworks.com" target="_blank" style="text-decoration: none;">Orchestra Networks</a> 2000-2015. All rights reserved.<br></br>Trademarks and brand names referred to in this web site relating to organizations other than Orchestra Networks are the property of those organizations and Orchestra Networks makes no claims to such property.</p></div>
<script type="text/javaScript" src="../resources/yui/yahoo/yahoo-min.js">
</script>
<script type="text/javaScript" src="../resources/yui/event/event-min.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_doc_utils.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_simplePage.js">
</script>
<script type="text/javaScript">
var ie6CompatibilityCSSURL = "../resources/stylesheets/ebx_ie6_compatibility.css";</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_ie6_compatibility.js">
</script>
</body>
</html>
