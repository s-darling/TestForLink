<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>
EBX5 documentation - 5.1.3 Fix 001</title>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"></meta><meta content="Copyright Orchestra Networks 2000-2013. All rights reserved." name="copyright"></meta><meta content="index_releasenotes" name="doc_id"></meta><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_common.css"></link><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_docPage.css"></link><link rel="icon" type="image/x-icon" href="../resources/icons/brand.ico"></link></head>
<body class="ebx_simplePage">
<div id="ebx_centerer">
<div id="ebx_main">
<div id="printHeader">
<div class="productName">
EBX5</div>
<div class="chapterName">
EBX5 documentation</div>
</div>
<div id="ebx_breadcrumbTop">
<a id="ebx_navigationModeButton" href="../index.html?page=releasenotes/5.1.3.html" title="Display this page with header and navigation panes">Navigation mode</a><span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
<h1>
5.1.3 Fix 001</h1>
<p><strong>Release Date: February 27, 2012</strong></p><p>EBX5 5.1.3:0001 quick-fix, due to issues 4579, 4602, 4603, 4607 &amp; 4610.</p><div id="toc">
<h4 id="tocTitle">
In this version</h4>
<ul class="toc1">
<li class="toc1"><a href="#new">New features</a><ul class="toc2">
<li class="toc2"><a href="#id1s1">Data Services</a></li><li class="toc2"><a href="#id1s2">JMS</a></li><li class="toc2"><a href="#id1s3">JNDI</a></li><li class="toc2"><a href="#id1s4">New workflow built-in script</a></li><li class="toc2"><a href="#id1s5">History support for Oracle 10g R2</a></li><li class="toc2"><a href="#id1s6">Specific behavior in transaction cancel</a></li></ul>
</li><li class="toc1"><a href="#id2">Version upgrade</a><ul class="toc2">
<li class="toc2"><a href="#id2s1">Backward compatibility</a></li><li class="toc2"><a href="#id2s2">How to upgrade an installed environment</a></li></ul>
</li><li class="toc1"><a href="#bugfix">Bug Fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug-CoreCache">Core Cache</a></li><li class="toc2"><a href="#bug-DataHierarchies">Data Hierarchies</a></li><li class="toc2"><a href="#bug-DataModeling">Data Modeling</a></li><li class="toc2"><a href="#bug-DataServices">Data Services</a></li><li class="toc2"><a href="#bug-DataValidation">Data Validation</a></li><li class="toc2"><a href="#bug-DataWorkflow">Data Workflow</a></li><li class="toc2"><a href="#bug-ImportExport">Import Export</a></li><li class="toc2"><a href="#bug-Miscellaneous">Miscellaneous</a></li><li class="toc2"><a href="#bug-UserInterface">User Interface</a></li><li class="toc2"><a href="#bug-UsersPermissions">Users & Permissions</a></li></ul>
</li></ul>
</div>
<h2>
<a name="new"></a>New features</h2>
<h3>
<a name="id1s1"></a>Data Services</h3>
<p>Pagination is now available on <code>Select</code>.</p><h3>
<a name="id1s2"></a>JMS</h3>
<p>JMS is now available for data services and D3 communications.</p><h3>
<a name="id1s3"></a>JNDI</h3>
<p>The name of the JDBC Data Source is now customizable in the <a target="_self" href="../installation/properties.html#ebxPersistence">main configuration</a></p><p>It is possible to define a JNDI Data Source for <a target="_self" href="../installation/properties.html#smtp">SMTP</a> connections.</p><h3>
<a name="id1s4"></a>New workflow built-in script</h3>
<p>A built-in script to send an email is now available in a workflow model.</p><h3>
<a name="id1s5"></a>History support for Oracle 10g R2</h3>
<p>Oracle 10g R2 has been validated as a supported persistence back-end for history mode.</p><h3>
<a name="id1s6"></a>Specific behavior in transaction cancel</h3>
<p>The class <code>TableTrigger</code> has a new method <code>handleBeforeTransactionCancel</code> to specifically handle transaction cancel.</p><p> For more information, see <a target="_blank" href="../Java_API/com/orchestranetworks/schema/trigger/TableTrigger.html#handleBeforeTransactionCancel(com.orchestranetworks.schema.trigger.BeforeTransactionCancelContext)"> TableTrigger.handleBeforeTransactionCancel</a>. </p><h2>
<a name="id2"></a>Version upgrade</h2>
<h3>
<a name="id2s1"></a>Backward compatibility</h3>
<p></p><h3>
<a name="id2s2"></a>How to upgrade an installed environment</h3>
<p>In order to upgrade your version of EBX5, perform the following steps:</p><ol>
<li><p>Backup your repository, including the RDBMS and the directory <code>ebx.repository.directory</code>.</p></li><li><p>Replace the <code>*.war</code> and <code>ebx.jar</code> files on your application server.</p></li></ol>
<h2>
<a name="bugfix"></a>Bug Fixes</h2>
<h3>
<a name="bug-CoreCache"></a>Core Cache</h3>
<ul>
<li><p><strong>[4372]</strong> The method Adaptation.getTimeOfLastModification returns an erroneous date. </p><p>Updating a record affects the time of last modification for the other records belonging to the same table bloc. This happens only if the data was previously shared between multiple homes.</p></li><li><p><strong>[4399]</strong> An error should occur when tables are missing from the repository. </p><p>If tables are missing from the repository ( ex:&nbsp;after an erroneous migration V4 to V5 ), an error should occur when starting the repository.</p></li><li><p><strong>[4427]</strong> The repository migration from EBX 4.8.x to 5.1.2 is broken. </p><p>An exception is thrown when starting EBX from a repository created in EBX 4.8.x.</p></li><li><p><strong>[4449]</strong> Cannot update table in relational/history mode, if the primary key fields are not declared in table order. </p><p>An error occurs in relational/history mode, if the primary key fields are declared in an order different from the table elements order.</p><p>The SQL update statements issued are then incorrect, and may fail if the swapped fields have different types.</p></li><li><p><strong>[4478]</strong> It is not possible to view the content of an initial snapshot of a data space. </p><p>When an initial snapshot is selected, no data set is visible.</p></li><li><p><strong>[4579]</strong> Reliable support of Unicode for SQL Server. </p><p>The data type xs:string was mapped to VARCHAR for SQL Server; this does not allow support of Unicode characters, as NVARCHAR does.</p></li><li><p><strong>[4610]</strong> OResource type is not supported on application servers working with zipped web application archives (&quot;war&quot;). </p><p>An exception is raised in EBX5 when trying to display the content of an element of type OResource.</p></li></ul>
<h3>
<a name="bug-DataHierarchies"></a>Data Hierarchies</h3>
<ul>
<li><p><strong>[4424]</strong> Cannot view the record after clicking on a node in a hierarchy. </p><p>It is impossible to view a record after clicking on a node without any label in a hierarchy.</p></li><li><p><strong>[4428]</strong> It is no longer possible to use an aggregated list in a hierarchy label. </p><p>Since fix 5.1.2, it is not possible to use an aggregated list in the label of a hierarchy. Such a feature should be available.</p></li><li><p><strong>[4467]</strong> If an error occurs during a hierarchy node creation, the tabular view may not be refreshed. </p><p>If a hierarchy is based on a join table dependency link with a primary key having more than two fields, a node creation will cause a record creation in the target table, but the join table record creation will fail with a user error message.</p><p>If this is the case, the display of the tabular view will not properly be refreshed.</p></li><li><p><strong>[4556]</strong> Bad performances when building the view selection list on hierarchizable tables. </p><p>When building the view selection list on hierarchizable tables, EBX computes the whole hierachy tree in order to know if the table is hierarchizable whereas it should stop at the first level of the hierarchy tree.</p></li></ul>
<h3>
<a name="bug-DataModeling"></a>Data Modeling</h3>
<ul>
<li><p><strong>[4380]</strong> Error message appears after clicking &quot;Submit&amp;Close&quot; button. </p><p>An error message appears, and the page cannot be closed. This happens when clicking on &quot;Submit&amp;Close&quot; button for the first time after clicking on &quot;Submit&quot; button for a table referenced by foreign key constraints in &quot;Advanced control&quot;.</p></li><li><p><strong>[4388]</strong> Data space is not unlocked if an archive import fails. </p><p>When importing an archive, if an error occurs, the data space remains locked.</p></li><li><p><strong>[4409]</strong> Unclear messages in the simple control panel. </p><p>Some messages are not user-friendly.</p></li><li><p><strong>[4411]</strong> It is not possible to collapse detailed information in the tree pane. </p><p>In the tree pane, it is not possible to collapse detailed information.</p></li><li><p><strong>[4419]</strong> Bad interface when publishing datamodel successfully. </p><p>The box which contains the list of datasets along with data spaces is too narrow</p></li><li><p><strong>[4502]</strong> In DMA, some attributes that must be hidden on reusable types are visible in table view. </p><p>Some attributes such as minimum and maximum cardinality constraints cannot be defined on reusable types but are still visible in table view.</p></li><li><p><strong>[4524]</strong> Incorrect behavior after importing an invalid archive file. </p><p>After an error caused by importing an archive without a header describing the data set: the system will then refuse to import any otherwise correct archive file. The system displays an ambiguous message <code>Invalid request</code></p></li><li><p><strong>[4528]</strong> Cancel button is erroneously displayed on a page displaying a list of validation rules. </p><p>When browsing validation rules, a cancel button is displayed instead of a back button.</p></li><li><p><strong>[4530]</strong> Rules are saved twice if clicking on <code>save</code> then <code>save and quit</code>. </p><p>When creating a new validation rule, clicking on <code>save</code> then <code>save and quit</code> saves the rule twice.</p></li><li><p><strong>[4534]</strong> Wrong error message is displayed when the value of a criterion is not specified in the predicate editor. </p><p>A message <code>Field &#39;criterion_string&#39; is mandatory</code> is displayed when leaving the field <code>Value</code> empty.</p></li><li><p><strong>[4603]</strong> An error can occur if the application server works with unzipped web application archives (&quot;war&quot;). </p><p>An error can occur if the application server works with unzipped web application archives (&quot;war&quot;):</p><p>a NullPointerException is raised in the Data Modeler when trying to import an existing schema from a module.</p></li></ul>
<h3>
<a name="bug-DataServices"></a>Data Services</h3>
<ul>
<li><p><strong>[4290]</strong> It is permitted to create a snapshot of a D3 data space. </p><p>In a slave, it is permitted to create a snapshot of a broadcast data space, whereas this should be forbidden.</p></li><li><p><strong>[4607]</strong> Generated WSDL for select operation is invalid. </p><p>&quot;pagination&quot; is set as a complex type instead of an element inside select_xxxxRequestType.</p></li></ul>
<h3>
<a name="bug-DataValidation"></a>Data Validation</h3>
<ul>
<li><p><strong>[4347]</strong> When an overwritten record is used by a foreign key, a validation error occurs when this record is switched to &quot;inherit&quot;. </p><p>If an overwritten record is used by a foreign key, after setting this record to &quot;inherit&quot; mode, a validation error appears with the message:&nbsp;&quot;The value &#39;XXX&#39; is not valid (record does not exist).&quot;.</p></li><li><p><strong>[4433]</strong> A PathAccessException occurs while executing the validation of the views configuration data set. </p><p>In the administration tab: when lauching the validation of the views configuration data set, a PathAccessException occurs.</p></li><li><p><strong>[4499]</strong> &quot;Illegal state&quot; compilation error if self-referencing data models exist in different data spaces. </p><p>Depending on the loading order of the data spaces, data model compilation can be in error for self-referencing models involving different data spaces. Concretely, a data model M1 refers to a data model M2 in data space S2 (by means of a <code>tableRef branch=&quot;S2&quot;</code>), which itself refers back to M1 in data space S1. Then, if a data space S3 containing M1 is first loaded, the compilation of M1 will report an <code> java.lang.IllegalStateException</code> error.</p></li></ul>
<h3>
<a name="bug-DataWorkflow"></a>Data Workflow</h3>
<ul>
<li><p><strong>[4161]</strong> There are several regressions in the worklfow work list. </p><p>In the work list of the workflow data, there are several regressions:</p><p>- the work items filters are no longer available</p><p>- it is not possible to define the number of elements to display in the work list</p></li><li><p><strong>[4393]</strong> &quot;Unpublish&quot; service displays the wrong number of data workflows. </p><p>The &quot;unpublish&quot; service displays the same number of data workflows for each publication, and furthermore this number is erronous.</p></li><li><p><strong>[4416]</strong> There is no LabelRenderer on the notification mail table. </p><p>Formatting a record displays the id of the record instead of the label.</p></li><li><p><strong>[4432]</strong> When the first step of a workflow model is deleted, it is not possible to create a workflow. </p><p>In the workflow model, the deletion of the first step causes problems.</p><p>Indeed, after the publication, it is not possible to start a workflow associated with the workflow model.</p></li><li><p><strong>[4447]</strong> When a record-level service is called in a workflow, an exception is thrown. </p><p>When a serviceLink is called in a workflow at a record level, an exception is thrown (an XPath exception occurs).</p></li><li><p><strong>[4458]</strong> Vocabulary on certain services is not accurate. </p><p>Some vocabualry of the previous version of EBX appears.</p></li><li><p><strong>[4461]</strong> Alignment of labels is not correct when defining output parameters. </p><p>When defining output parameters, the label of the parameter is not aligned on the left, as the input fields are.</p></li><li><p><strong>[4526]</strong> Fatal error when non-admin user clicks to DataWorkflow button. </p><p>After creating a new workflow model in which there is no data, and publishing it, a non-admin user clicking on the Dataworkflow button will cause a fatal error.</p></li><li><p><strong>[4527]</strong> Execution history incorrectly displays the create button on work items table. </p><p>The <code>create </code>button gets displayed in the history, but clicking on it does not work.</p></li></ul>
<h3>
<a name="bug-ImportExport"></a>Import Export</h3>
<ul>
<li><p><strong>[4471]</strong> An exception occurs while doing a CSV export on a table with unset list fields. </p><p>If a table has unset multi-occurrenced fields, a CSV export will trigger a null pointer exception.</p></li><li><p><strong>[4517]</strong> A NullPointerException occurs when importing XML onto inherited fields. </p><p>If a multi-valued inherited field is null, an exception occurs while running an XML import on the table.</p></li><li><p><strong>[4525]</strong> Fatal error when the user chooses to import a CSV file with Separator Other, but does not input a separator. </p><p>The field <code>other</code> is not mandatory but leaving it empty throws a fatal error when importing a csv file.</p></li><li><p><strong>[4540]</strong> When creating a new child data set via archive import, the result of the import is erroneous. </p><p>When creating a new child data set via an archive import containing a change set, the result of the import is erroneous: unmodified data get deleted.</p></li><li><p><strong>[4558]</strong> When modifying a child data set via an archive import containing a change set, the result of the import is erroneous. </p><p>When modifying a child data set via an archive import containing a change set, the result of the import is erroneous: fields that have not been modified are set to null.</p></li></ul>
<h3>
<a name="bug-Miscellaneous"></a>Miscellaneous</h3>
<ul>
<li><p><strong>[4602]</strong> Some parameters of ebx.properties are not customizable in the JVM arguments. </p><p>ebx.properties values should be able to be customized by the means of other ebx.properties values and/or JVM arguments (-Dxxx=yyy).</p></li></ul>
<h3>
<a name="bug-UserInterface"></a>User Interface</h3>
<ul>
<li><p><strong>[4171]</strong> Comparison of data set access rights is erroneous. </p><p>Comparison of access rights of a data set is erroneous: the values displayed in the comparison interface are not those defined in the data set.</p></li><li><p><strong>[4329]</strong> Exception after a hierarchy node selection. </p><p>An IllegalArgumentException may be thrown after a hierarchy node selection.</p></li><li><p><strong>[4349]</strong> When executing the standard comparison service in a user task, the bottom of the page is truncated. </p><p>When executing the standard comparison service in a user task, the bottom of the page is truncated as soon as there is an horizontal scroll bar.</p></li><li><p><strong>[4368]</strong> UIHttpManagerComponent parameters are ignored if login and password are not in URL. </p><p>Composing a URL to target a manager component is ineffective if login and password parameters are absent.</p></li><li><p><strong>[4375]</strong> With IE6 and IE7, a scroll bar sometimes appears unnecessarily. </p><p>In several screens, an unnecessary scroll bar appears.</p></li><li><p><strong>[4379]</strong> Error when deleting the value of a date criterion of a custom view filter. </p><p>Deleting the value in date criterion of a custom view filter throws an error.</p></li><li><p><strong>[4383]</strong> In IE7, the navigation button to go to another page in combobox is not visible. </p><p>When selecting an item in a combobox, one must use the navigation button to</p><p>move to different pages of items, but this navigation button is not visible</p></li><li><p><strong>[4384]</strong> In IE7, vertical scrollbar of list control disappears and the width of the list is not limited. </p><p>When selecting an item from a list control, the vertical scrollbar of list disappears and the width of the list is not limited</p></li><li><p><strong>[4389]</strong> Poor performance if numerous snapshots of a dataspace. </p><p>The main page of a dataspace consumes too much CPU in case of many snapshots due to service permissions resolution.</p></li><li><p><strong>[4395]</strong> In order to see D3 data spaces, a user must have permissions to see D3 reference. </p><p>On a D3 Slave, even if a user has enough access rights to see a D3 data space, he must also have the access rights to see the D3 Reference in order to have the D3 data spaces selector.</p></li><li><p><strong>[4406]</strong> In IE6 and IE7 the login form is not consistent. </p><p>The button &#39;login&#39; is not at the right location in IE6 and IE7.</p></li><li><p><strong>[4407]</strong> In IE6 and IE7, the close button is not present in the date selector. </p><p>On a date input field, the close button is not present on the date selector with IE6 and IE7.</p></li><li><p><strong>[4415]</strong> In IE6 and IE7, [add] and [modify] buttons on &quot;Define Your Criteria&quot; windows are invisible. </p><p>In IE6 and IE7, when defining a criterion to add a new filter, button &quot;Add&quot; is invisible. After creating a view and coming back to the filter, the &quot;Modify&quot; button is also invisible.</p></li><li><p><strong>[4440]</strong> With IE6 and IE7, an horizontal scrollbar appears in form with Access Right UIBean. </p><p>With IE6 and IE7, unnecessary horizontal scroll bars appears in form with Access Right UIBean which is confusing.</p></li><li><p><strong>[4446]</strong> The table view is not refreshed correctly when disconnecting and re-connecting. </p><p>When accessing a table view and applying a specific custom view to the table: after disconnecting and reconnecting to the application (in the same navigator), the records are filtered as if the custom view were applied.</p></li><li><p><strong>[4448]</strong> With Google Chrome, in advanced drop down-UI component, the content of the list is truncated. </p><p>When the list of displayed elements contains 10 elements, the last element is truncated.</p></li><li><p><strong>[4451]</strong> Waiting indicator remains forever. </p><p>When accessing a table or a record: if a UIBean throws an exception, the waiting indicator remains forever.</p></li><li><p><strong>[4455]</strong> No search capability on foreign key editor if the targeted table is hidden. </p><p>Considering a foreign key to a hidden table: the advanced list search component offers the expected values, but searching upon these always returns an empty list.</p></li><li><p><strong>[4457]</strong> Optimize and refactor service appears even when unnecessary. </p><p>The &#39;Optimize and refactor&#39; service appears even if a Data Set has no child.</p></li><li><p><strong>[4469]</strong> Scrollbar is missing for long content for HTML type. </p><p>The HTML component displaying the content of an HTML type has no scrollbar, so the input text can be truncated.</p></li><li><p><strong>[4501]</strong> Fatal error when creating a record in a selection node context. </p><p>A user uses preview button (selection node), the target table is displayed normally.</p><p>If the user tries to create a new record, a fatal error occurs.</p><p>The target node in model is defined like a multi-occurrence.</p></li><li><p><strong>[4536]</strong> User cannot modify an invalid view. </p><p>If a user creates a view that becomes invalid (for instance because of a data model modification), he cannot modify it in order to make it valid again.</p></li><li><p><strong>[4537]</strong> In the criterion editor, values are not re-displayed when one of the properties of the criterion is in error. </p><p>If a property of a criterion has errors, then the selected operator is not re-displayed and it is mentioned as &#39;Not defined&#39;. Besides, the list of available operators does not match the type of the selected field.</p></li><li><p><strong>[4549]</strong> The category menu is displayed even if there is no defined category. </p><p>If the category menu is displayed a first time, it is then displayed even if not necessary.</p></li><li><p><strong>[4568]</strong> When a fatal error occurs in a modal window, the user can log again but this causes an exception. </p><p>When a fatal error occurs in a modal window, the &quot;login&quot; button is displayed.</p><p>If the user tries to log again in this window, the following exception is thrown:</p><p>InvalidModelException: no login for sub-sessions.</p></li></ul>
<h3>
<a name="bug-UsersPermissions"></a>Users &amp; Permissions</h3>
<ul>
<li><p><strong>[4442]</strong> With IE6, an horizontal scrollbar appears in forms with a tab panel. </p><p>With IE6, an unnecessary horizontal scrollbar appears in forms with a tab panel</p></li></ul>
<div id="ebx_breadcrumbBottom">
<span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
</div>
<p id="ebx_footer"><b>EBX5 Version 5.4.0 Fix 002 [0907:0001]. </b>Copyright &copy; <a href="http://www.orchestranetworks.com" target="_blank" style="text-decoration: none;">Orchestra Networks</a> 2000-2013. All rights reserved.<br></br>Trademarks and brand names referred to in this web site relating to organizations other than Orchestra Networks are the property of those organizations and Orchestra Networks makes no claims to such property.</p></div>
<script type="text/javaScript" src="../resources/yui/yahoo/yahoo-min.js">
</script>
<script type="text/javaScript" src="../resources/yui/event/event-min.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_doc_utils.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_simplePage.js">
</script>
<script type="text/javaScript">
var ie6CompatibilityCSSURL = "../resources/stylesheets/ebx_ie6_compatibility.css";</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_ie6_compatibility.js">
</script>
</body>
</html>
