<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>
EBX5 documentation - 4.8.7</title>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"></meta><meta content="Copyright Orchestra Networks 2000-2013. All rights reserved." name="copyright"></meta><meta content="index_releasenotes" name="doc_id"></meta><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_common.css"></link><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_docPage.css"></link><link rel="icon" type="image/x-icon" href="../resources/icons/brand.ico"></link></head>
<body class="ebx_simplePage">
<div id="ebx_centerer">
<div id="ebx_main">
<div id="printHeader">
<div class="productName">
EBX5</div>
<div class="chapterName">
EBX5 documentation</div>
</div>
<div id="ebx_breadcrumbTop">
<a id="ebx_navigationModeButton" href="../index.html?page=releasenotes/4.8.7.html" title="Display this page with header and navigation panes">Navigation mode</a><span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
<h1>
4.8.7</h1>
<p><em>Release Date: January 24, 2011</em></p><div id="toc">
<h4 id="tocTitle">
In this version</h4>
<ul class="toc1">
<li class="toc1"><a href="#id1">API</a></li><li class="toc1"><a href="#backwardCompatibility">Backward Compatibility</a></li><li class="toc1"><a href="#bugfix">Bug Fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug-CoreCache">Core Cache</a></li><li class="toc2"><a href="#bug-DataModelDMA">Data Model & DMA</a></li><li class="toc2"><a href="#bug-DataServices">Data Services</a></li><li class="toc2"><a href="#bug-Hierarchies">Hierarchies</a></li><li class="toc2"><a href="#bug-ImportExport">Import Export</a></li><li class="toc2"><a href="#bug-Miscellaneous">Miscellaneous</a></li><li class="toc2"><a href="#bug-UserInterface">User Interface</a></li><li class="toc2"><a href="#bug-UsersPermissions">Users & Permissions</a></li><li class="toc2"><a href="#bug-Validation">Validation</a></li></ul>
</li></ul>
</div>
<h2>
<a name="id1"></a>API</h2>
<p> The process of user input validation has been clarified. For more information, see the javadoc of the method <code><a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIBeanEditor.html#shallValidateInput(com.orchestranetworks.ui.UIRequestContext)"> UIBeanEditor.shallValidateInput(UIRequestContext)</a></code>.</p><h2>
<a name="backwardCompatibility"></a>Backward Compatibility</h2>
<p>The correction of bugs #1693, #1694 and #2459, changed the behavior of the following methods if they directly access a JavaBean or an aggregated list: </p><ul>
<li><p><code>UIContext.getValue()</code></p></li><li><p><code>UIContext.getValue(Path)</code></p></li><li><p><code>ValueContext.getValue(Path)</code></p></li></ul>
<p> The change appears when those methods are invoked in the context of user input validation, that is from <code>UIBeanEditor.shallValidateInput(UIRequestContext)</code>, <code>UIBeanEditor.validateInput(UIRequestContext)</code> or <code>Constraint.checkOccurrence(Object,ValueContextForValidation)</code>. Those methods used to return the persisted object, they now return the object with all the local updates that are being validated.</p><p><em>Note:</em> if the code using the access methods above is referencing simple type values, its behavior is not changed.</p><h2>
<a name="bugfix"></a>Bug Fixes</h2>
<h3>
<a name="bug-CoreCache"></a>Core Cache</h3>
<ul>
<li><p><strong>[3027]</strong> An exception is thrown while unregistering a module. </p><p>If a module declares a <code>ScriptTaskBean</code>, an exception is thrown while calling the <code>destroy()</code> method of the registered servlet.</p></li><li><p><strong>[3159]</strong> A sort criterion on an under-terminal node is not supported. </p><p>An error occurs when a request is executed using a sort criterion defined on an under-terminal node (for example, <code>./myBean/name</code>, where the element <code>myBean</code> refers to a Java Bean).</p></li><li><p><strong>[3171]</strong> Refine the counting of records in a table when evaluating if the table is a &quot;large table&quot;. </p><p>The method used for estimating the number of records in a table may, in some cases, be very different from the actual size: if a table has undergone numerous additions and deletions, then the block count increases away. In such a scenario, the access to a table may become restricted.</p><p>This method has been refined, so as to exploit more accurate indicators, if they are available in the cache.</p></li><li><p><strong>[3198]</strong> A <code>PathAccessException</code> occurs when an absolute Path is used in a predicate. </p><p>A <code>PathAccessException</code> occurs when an absolute Path (ex: <code>/root/node</code>) is used in a predicate.</p></li></ul>
<h3>
<a name="bug-DataModelDMA"></a>Data Model &amp; DMA</h3>
<ul>
<li><p><strong>[3030]</strong> Error on instance creation if a table reference to another instance is defined. </p><p>An instance cannot be created if a table reference to another instance is defined, and this other instance does not exist yet.</p></li></ul>
<h3>
<a name="bug-DataServices"></a>Data Services</h3>
<ul>
<li><p><strong>[2854]</strong> DataServices do not work beyond a reverse proxy. </p><p>The generated WSDL are written using direct URLs even when called beyond a reverse proxy.</p></li></ul>
<h3>
<a name="bug-Hierarchies"></a>Hierarchies</h3>
<ul>
<li><p><strong>[3048]</strong> A hierarchy node cannot be displayed in reverse-proxy deployment mode. </p><p>In case of a reverse-proxy deployment mode, with &quot;use local url&quot; set to true in servlet policy: the url used for accessing a hierarchy node is calculated as a full url (i.e. not local) in the context behind the reverse-proxy. As a consequence, protocol, host and port may be erroneous.</p></li><li><p><strong>[3084]</strong> A hierarchy node cannot be closed in reverse-proxy deployment mode. </p><p>In case of a reverse-proxy deployment mode, with &quot;use local url&quot; set to true in servlet policy, the &quot;close&quot; button redirects to an invalid url (HTTP 404).</p></li><li><p><strong>[3088]</strong> In EBX.Manager, in a multi-home and multi-container environment, a <code>HierarchyException</code> might occur. </p><p>While accessing a table in a multi-home and multi-container environment, a <code>HierarchyException</code> might be thrown when building the table hierarchy dimension tree.</p></li><li><p><strong>[3091]</strong> In EBX.Manager, errors with custom hierarchies. </p><p>An error occurs while creating a record inside a custom hierarchy.</p></li><li><p><strong>[3092]</strong> In EBX.Manager, an error occurs while displaying a hierarchy. </p><p>An error occurs in EBX.Manager while displaying a hierarchy if the default label of one node of the hierarchy is referring to an under-terminal node.</p></li></ul>
<h3>
<a name="bug-ImportExport"></a>Import Export</h3>
<ul>
<li><p><strong>[3014]</strong> Temporary files are not deleted if an archive import fails. </p><p>If there is a problem during the execution of an archive import, temporary files are not deleted.</p></li><li><p><strong>[3138]</strong> An error occcurs while updating an occulted record. </p><p>If a record is occulted, when importing or creating a record with the same primary key, the following error occurs: &quot;Cannot create a new occurrence with primary key [./id=1] since this key is already used.&quot;</p></li><li><p><strong>[3139]</strong> In EBX.Manager, occulted records are exported by the built-in XML export service. </p><p>Occulted records are exported by the built-in XML export service if it is invoked in EBX.Manager.</p></li></ul>
<h3>
<a name="bug-Miscellaneous"></a>Miscellaneous</h3>
<ul>
<li><p><strong>[2938]</strong> A record may not be refreshed when it has been programmatically modified. </p><p>A record timestamp is not refreshed when a record has been programmatically modified; consequently EBX.Manager does not refresh the page content.</p></li><li><p><strong>[3015]</strong> The method <code>NewTransientOccurrenceContext.isDuplicatingOccurrence()</code> is erroneous while creating a record via import. </p><p>In a table trigger, calling the <code>NewTransientOccurrenceContext.isDuplicatingOccurrence()</code> method from <code>handleNewContext(NewTransientOccurrenceContext aContext)</code> always returns true while creating a record via xml or csv imports.</p></li><li><p><strong>[3044]</strong> Problem while overwriting a record in a table with a trigger. </p><p>If the method <code>BeforeCreateOccurrenceContext.getOccurrenceContextForUpdate()</code> is called in the <code>handleBeforeCreate(...)</code> method of the trigger, the record gets duplicated, instead of being overwritten.</p></li><li><p><strong>[3071]</strong> Computed values accessed in a table trigger are not refreshed. </p><p>The content of a computed value is not refreshed when it is accessed from one of the <code>handleAfter***()</code> methods of a table trigger.</p></li><li><p><strong>[3077]</strong> Erroneous redirection when using a selection node on a recursive relation. </p><p>The redirection is erroneous when using a selection node with a recursive foreign key.</p></li><li><p><strong>[3086]</strong> Using a partial string predicate filter with AND on a composite table reference does not work properly. </p><p>Contrary to the equal predicate on a composite table reference (example: <code>./fkb=&#39;2001-01-01|a|1&#39;</code>), a partial string predicate using the AND operator does not work (example:<code>starts-with(./fkb,&#39;2001-01-01&#39;) and ends-with(./fkb,&#39;1&#39;)</code>).</p></li><li><p><strong>[3116]</strong> The content of a <code>RequestResult</code> is erroneous when working with inherited attributes. </p><p>The content of a <code>RequestResult</code> is erroneous when working with inherited attributes. Only records with overwritten attributes are returned in the <code>RequestResult</code>.</p></li><li><p><strong>[3221]</strong> A PathAccessException occurs when clicking on a filtered selection node. </p><p>When a foreign key is defined with a filter of type TableRefFilter, if there is a selection node in the target table accessing the source table of the foreign key, a PathAccessException occurs when clicking the selection node.</p></li></ul>
<h3>
<a name="bug-UserInterface"></a>User Interface</h3>
<ul>
<li><p><strong>[1693]</strong> In a UIBean, at user input validation time, the aggregated list returned is the persisted one. </p><p>When a UIBean is declared on an aggregated list, any access to the list (using <code>aRequest.getValueContext().getValue()</code>) from the <code>validateInput</code> method returns the persisted list of data and not the list displayed on the user screen. The refreshed list should be returned.</p></li><li><p><strong>[1694]</strong> In a Constraint, at user input validation time, the aggregated list returned is the persisted one. </p><p>Same as 01693 but for a Constraint, the getValue method does not provide the refreshed element list.</p><p>When a programmatic constraint is declared on an aggregated list, any access to the list returns the persisted list of data and not the list displayed on the user screen. The refreshed list should be returned.</p></li><li><p><strong>[3020]</strong> In EBX.Manager, the default value is erroneous when using a selection node with a &quot;OR&quot; in the predicate. </p><p>If there is a &quot;or&quot; in the XPath predicate of a selection node, the records are well filtered when accessing the target table. However, when creatig a new record, the field involved in the XPath request is preset with the first value of the XPath request.</p></li><li><p><strong>[3022]</strong> A table default label defined by a specific JavaBean is not used to display a foreign key. </p><p>If a table specifies a <code>defaultLabel</code> using a JavaBean, and if a node defines a table reference to this table, without a label rendering policy, the foreign key values are not displayed using the defined Java class.</p></li><li><p><strong>[3023]</strong><code>Adaptation.getLabel(Locale)</code> does not use table the default label defined by a Java class. </p><p>If a table defines a default label using a Java class, a record of this table should use this class when calling <code>getLabel(Locale)</code> method on the table records.</p></li><li><p><strong>[3072]</strong> In EBX.Manager, a <code>NullPointerException</code> is thrown when importing an archive with a change set. </p><p>When importing an archive containing a change set with content in permissions, when accessing the permission node in the confirmation page, a <code>NullPointerException</code> is thrown.</p></li><li><p><strong>[3074]</strong> Advanced component for selection: the search is ineffective for integer values. </p><p>If the content of the advanced component for selection is an integer, searching for an integer greater than 1000 is ineffective.</p></li><li><p><strong>[3075]</strong> In EBX.Manager, an error occurs when using filters and selecting occurrences in table view. </p><p>A filter is applied on a table view, after modifying an occurrence and if it does not match the filter anymore, it becomes impossible to select a record.</p></li><li><p><strong>[3081]</strong> In EBX.Manager, an exception is thrown when using the advanced component for selection in a list in tabular editing mode. </p><p>In EBX.Manager, an exception is thrown when using the advanced component for user search and selection in a list in tabular editing mode.</p></li><li><p><strong>[3087]</strong> It is not possible to access a record in the user hierarchy table. </p><p>A javascript error occurs while accessing the form of a record in the user hierarchy table. This problem occurs only if using a browser running under an operating system managing carriage return as <code>\n</code>.</p></li><li><p><strong>[3111]</strong> In EBX.Manager, a <code>NullPointerException</code> is thrown when working with category. </p><p>Inside an instance, after filtering nodes on a category, an exception is thrown while selecting the filter &quot;[not defined]&quot;.</p></li><li><p><strong>[3140]</strong> Unable to reach a service specified by a URL. </p><p>Trying to connect to a specific UI service of EBX leads to an error message if the credentials are not specified in the URL. This message reports that the service name does not exist.</p></li><li><p><strong>[3149]</strong> Selecting a record node from a UI service does not work. </p><p>Selecting a record node by means of the method <code>ServiceContext.getURLForSelection(Adaptation, Path)</code> does not redirect to the record node, but to the instance root node, with an error message displayed.</p></li><li><p><strong>[3163]</strong> Too many validation messages causes a loop when accessing the validation report page in manager. </p><p>If the validation message threshold is reached by an explicit validation, a loop appears when accessing the validation report page.</p></li><li><p><strong>[3219]</strong> A UI service is always displayed in the &#39;Services&#39; tab if it is activated on the whole instance. </p><p>If a UI service is activated on the whole instance, the &quot;DisplayInInstance&quot; property is ignored. Setting it to <code>false</code> does not hide it in the &#39;Services&#39; tab of the instance.</p></li></ul>
<h3>
<a name="bug-UsersPermissions"></a>Users &amp; Permissions</h3>
<ul>
<li><p><strong>[3078]</strong> The owner&#39;s access rights for services on a newly created branch do not inherit from the parent branch owner&#39;s right. </p><p>If the creator of a new branch is the owner of the current branch, and if there is no specific permissions defined for this user on the branch, the access rights for services will not be inherited.</p></li><li><p><strong>[3147]</strong> Erroneous permission for branch validation. </p><p>If a profile does not have the right to validate a technical instance in the reference branch, he will not have the right to validate a child branch which he created.</p></li></ul>
<h3>
<a name="bug-Validation"></a>Validation</h3>
<ul>
<li><p><strong>[2459]</strong> For a programmatic constraint, the access to the context does not give the same result at user input and at global validation. </p><p>If the method <code>ValueContext.getValue(Path.PARENT)</code> is invoked by a programmatic constraint defined inside an aggregated list of a complex type, the result is the current occurrence at user input validation, and this is correct. But on global validation, the result is the whole <code>java.util.List</code> and this is an error.</p></li><li><p><strong>[3058]</strong> A validation error is thrown when deleting a record in a table referred to by a table ref. </p><p>In a data model, let there be a terminal node with a table reference facet; and this node not inside a table. When a record is deleted inside the table referred to in the table reference, the validation always throws an error, even if the deleted record is not the one selected in the table reference node.</p></li><li><p><strong>[3191]</strong> A <code>ClassCastException</code> occurs during incremental validation. </p><p>An exception occurs when editing a node with a <code>fractionDigits</code> facet.</p></li></ul>
<div id="ebx_breadcrumbBottom">
<span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
</div>
<p id="ebx_footer"><b>EBX5 Version 5.4.0 Fix 002 [0907:0001]. </b>Copyright &copy; <a href="http://www.orchestranetworks.com" target="_blank" style="text-decoration: none;">Orchestra Networks</a> 2000-2013. All rights reserved.<br></br>Trademarks and brand names referred to in this web site relating to organizations other than Orchestra Networks are the property of those organizations and Orchestra Networks makes no claims to such property.</p></div>
<script type="text/javaScript" src="../resources/yui/yahoo/yahoo-min.js">
</script>
<script type="text/javaScript" src="../resources/yui/event/event-min.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_doc_utils.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_simplePage.js">
</script>
<script type="text/javaScript">
var ie6CompatibilityCSSURL = "../resources/stylesheets/ebx_ie6_compatibility.css";</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_ie6_compatibility.js">
</script>
</body>
</html>
