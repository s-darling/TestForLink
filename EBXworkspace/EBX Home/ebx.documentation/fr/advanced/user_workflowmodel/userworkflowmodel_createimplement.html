<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">
<head>
<title>
EBX5 documentation - Mod&eacute;lisation du workflow</title>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"></meta><meta content="Copyright Orchestra Networks 2000-2013. All rights reserved." name="copyright"></meta><meta content="wm_wm" name="doc_id"></meta><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_common.css"></link><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_docPage.css"></link><link rel="icon" type="image/x-icon" href="../resources/icons/brand.ico"></link></head>
<body class="ebx_simplePage">
<div id="ebx_centerer">
<div id="ebx_main">
<div id="printHeader">
<div class="productName">
EBX5</div>
<div class="chapterName">
Documentation &gt; Guide utilisateur &gt; Modèles de workflow</div>
</div>
<div id="ebx_breadcrumbTop">
<a id="ebx_navigationModeButton" href="../index.html?page=user_workflowmodel/userworkflowmodel_createimplement.html" title="Afficher cette page avec l'en-tête et les panneaux de navigation">Mode navigation</a><span class="ebx_breadcrumbLabel">Documentation &gt; Guide utilisateur &gt; Modèles de workflow</span></div>
<h1>
Mod&eacute;lisation du workflow</h1>
<div id="toc">
<h4 id="tocTitle">
Contenu de la section</h4>
<ul class="toc1">
<li class="toc1"><a href="#creation">Cr&eacute;ation d&#39;un mod&egrave;le de workflow</a></li><li class="toc1"><a href="#step">Impl&eacute;mentation des &eacute;tapes</a><ul class="toc2">
<li class="toc2"><a href="#progressStrategy">Strat&eacute;gie d&#39;avancement de l&#39;&eacute;tape suivante</a></li></ul>
</li><li class="toc1"><a href="#step_user">T&acirc;che utilisateur</a><ul class="toc2">
<li class="toc2"><a href="#id3s1">Participants</a></li><li class="toc2"><a href="#id3s2">Service</a></li><li class="toc2"><a href="#termination">Configuration</a></li></ul>
</li><li class="toc1"><a href="#step_script">T&acirc;che autonome</a><ul class="toc2">
<li class="toc2"><a href="#workflow.scriptTask.library">Script de la biblioth&egrave;que</a></li><li class="toc2"><a href="#id4s2">Scripts sp&eacute;cifiques</a></li></ul>
</li><li class="toc1"><a href="#step_condition">Conditions</a><ul class="toc2">
<li class="toc2"><a href="#workflow.condition.library">Condition de la biblioth&egrave;que</a></li><li class="toc2"><a href="#id5s2">Conditions sp&eacute;cifiques</a></li></ul>
</li><li class="toc1"><a href="#subworkflows">Appels &agrave; des sous-workflows</a></li><li class="toc1"><a href="#waitTasks">T&acirc;ches d&#39;attente</a></li></ul>
</div>
<h2>
<a name="creation"></a>Cr&eacute;ation d&#39;un mod&egrave;le de workflow</h2>
<p>Un mod&egrave;le de workflow peut &ecirc;tre cr&eacute;&eacute; &agrave; partir de la section &#39;Mod&egrave;le de workflow&#39;. La seule information requise &agrave; la cr&eacute;ation est un nom de mod&egrave;le unique dans le r&eacute;f&eacute;rentiel.</p><p>Les &eacute;tapes du mod&egrave;le de workflow sont initialis&eacute;es avec une transition initiale. Pour impl&eacute;menter le mod&egrave;le de workflow, il faut d&eacute;finir la s&eacute;quence des &eacute;tapes qui suivent cette transition initiale.</p><h2>
<a name="step"></a>Impl&eacute;mentation des &eacute;tapes</h2>
<p>Un mod&egrave;le de workflow d&eacute;finit des &eacute;tapes correspondant &agrave; des op&eacute;rations et des conditions. Les &eacute;tapes possibles sont les suivantes :</p><ul>
<li><p>T&acirc;che utilisateur</p></li><li><p>T&acirc;che automatique</p></li><li><p>Condition</p></li><li><p>Appel &agrave; des sous-workflows</p></li><li><p>T&acirc;che d&#39;attente</p></li></ul>
<p><a name="datacontext"></a>Un contexte de donn&eacute;es est li&eacute; &agrave; chaque workflow de donn&eacute;es. Ce contexte de donn&eacute;es peut &ecirc;tre utilis&eacute; pour d&eacute;finir des variables, qui pourront &ecirc;tre utilis&eacute;es en entr&eacute;e et/ou en sortie dans les diff&eacute;rentes &eacute;tapes du workflow.</p><h3>
<a name="progressStrategy"></a>Strat&eacute;gie d&#39;avancement de l&#39;&eacute;tape suivante</h3>
<p>Pour chaque type d&#39;&eacute;tape (except&eacute; pour les appels de sous-workflows), une propri&eacute;t&eacute; est disponible pour pr&eacute;ciser la strat&eacute;gie d&#39;avancement pour l&#39;&eacute;tape suivante. A la terminaison de l&#39;&eacute;tape, cette strat&eacute;gie est &eacute;valu&eacute;e pour conditionner la navigation lors de l&#39;ex&eacute;cution du workflow. Par d&eacute;faut, la strat&eacute;gie d&#39;avancement est &#39;Afficher la table des bons de travail&#39;. Dans ce cas, apr&egrave;s l&#39;ex&eacute;cution de l&#39;&eacute;tape, la table des bons de travail est automatiquement affich&eacute;e pour s&eacute;lectionner le prochain bon de travail &agrave; ouvrir. </p><p>Une autre strat&eacute;gie est disponible&nbsp;:&nbsp;&#39;Ouvrir automatiquement l&#39;&eacute;tape suivante&#39;. Cette strat&eacute;gie permet &agrave; l&#39;utilisateur de garder la main sur ce workflow et d&#39;ex&eacute;cuter directement l&#39;&eacute;tape suivante. Si, &agrave; la suite de cette ex&eacute;cution, un bon de travail est atteint et que l&#39;utilisateur connect&eacute; peut le d&eacute;marrer, le bon de travail est automatiquement ouvert (si plusieurs bons de travail sont atteints, le premier cr&eacute;&eacute; est ouvert). Sinon, la strat&eacute;gie d&#39;avancement de l&#39;&eacute;tape suivante est &eacute;valu&eacute;e. Si aucun bon de travail n&#39;est finalement atteint, la table des bons de travail est affich&eacute;e. </p><p>Cette strat&eacute;gie est pr&eacute;conis&eacute;e pour ex&eacute;cuter plusieurs &eacute;tapes &agrave; la suite sans repasser par la corbeille de t&acirc;ches. </p><p>Il existe actuellement plusieurs limitations qui font que cette strat&eacute;gie peut &ecirc;tre ignor&eacute;e. Dans ce cas, la table des bons de travail est automatiquement affich&eacute;e. Les cas o&ugrave; cette propri&eacute;t&eacute; est ignor&eacute;e sont les suivants&nbsp;:&nbsp;si l&#39;&eacute;tape suivante est un sous-workflow, ou si l&#39;&eacute;tape courante est une t&acirc;che utilisateur avec plus d&#39;un bon de travail. </p><p>Dans le cas des conditions, deux autres strat&eacute;gies sont propos&eacute;es : &#39;Si vrai, ouvrir automatiquement l&#39;&eacute;tape suivante&#39; et &#39;Si faux, ouvrir automatiquement l&#39;&eacute;tape suivante&#39;. Ces strat&eacute;gies permettent de conditionner la strat&eacute;gie &agrave; appliquer en fonction du r&eacute;sultat de la condition. </p><h2>
<a name="step_user"></a>T&acirc;che utilisateur</h2>
<p>Une t&acirc;che utilisateur est une &eacute;tape qui n&eacute;cessite une action de la part d&#39;un utilisateur humain. Son libell&eacute; et sa description peuvent &ecirc;tre localis&eacute;s.</p><h3>
<a name="id3s1"></a>Participants</h3>
<p>Les participants sont les r&ocirc;les ou les utilisateurs auxquels la t&acirc;che utilisateur est destin&eacute;e. Si un profil est un utilisateur, le bon de travail est automatiquement allou&eacute; &agrave; cet utilisateur. Si un profil est un r&ocirc;le, le bon de travail est propos&eacute; aux membres du r&ocirc;le.</p><div id="seealsoShort">
<p><span style="color:#808080; font-size:1.1em; font-family:'Source Sans Pro', Helvetica, Arial, sans-serif; font-weight: bold;  margin:0 4px 0 0;">Voir aussi</span><a href="#extension">Extension</a></p></div>
<h3>
<a name="id3s2"></a>Service</h3>
<p>EBX5 propose les services pr&eacute;d&eacute;finis suivants :</p><ul>
<li><p>Acc&eacute;der &agrave; des donn&eacute;es</p></li><li><p>Acc&eacute;der &agrave; l&#39;interface de fusion des espace de donn&eacute;es</p></li><li><p>Acc&eacute;der &agrave; un espace de donn&eacute;es</p></li><li><p>Comparer deux contenus</p></li><li><p>Cr&eacute;er un nouvel enregistrement</p></li><li><p>Dupliquer un enregistrement</p></li><li><p>Exporter les donn&eacute;es depuis une table au format CSV</p></li><li><p>Exporter les donn&eacute;es depuis une table au format XML</p></li><li><p>Fusionner un espace de donn&eacute;es</p></li><li><p>Importer les donn&eacute;es dans une table depuis un fichier CSV</p></li><li><p>Importer les donn&eacute;es dans une table depuis un fichier XML</p></li><li><p>Valider un espace de donn&eacute;es, une image ou un jeu de donn&eacute;es</p></li></ul>
<div id="seealsoShort">
<p><span style="color:#808080; font-size:1.1em; font-family:'Source Sans Pro', Helvetica, Arial, sans-serif; font-weight: bold;  margin:0 4px 0 0;">Voir aussi</span><a href="../references/builtin.html">Services pr&eacute;d&eacute;finis de EBX5</a></p></div>
<h3>
<a name="termination"></a>Configuration</h3>
<h4>
<a name="enableReject"></a>Options g&eacute;n&eacute;rales &gt; Rejet activ&eacute;</h4>
<p>Par d&eacute;faut, seulement l&#39;action <em>accepter</em> est propos&eacute;e &agrave; l&#39;utilisateur lorsqu&#39;il enregistre sa d&eacute;cision.</p><p>Il est possible d&#39;activer l&#39;action &#39;rejeter&#39; en positionnant ce champ &agrave; &#39;Oui&#39;.</p><h4>
<a name="enableConfirmationRequest"></a>Options g&eacute;n&eacute;rales &gt; Demande de confirmation activ&eacute;e</h4>
<p>Par d&eacute;faut, quand un utilisateur enregistre sa d&eacute;cision en cliquant sur le bouton &#39;Accepter&#39; ou &#39;Rejeter&#39;, une demande de confirmation est affich&eacute;e.</p><p>Il est possible de d&eacute;sactiver cette demande de confirmation de la d&eacute;cision en positionnant ce champ &agrave; &#39;Non&#39;.</p><h4>
<a name="commentsRequired"></a>Options g&eacute;n&eacute;rales &gt; Caract&egrave;re obligatoire du commentaire</h4>
<p>Par d&eacute;faut, le commentaire associ&eacute; &agrave; un bon de travail est optionnel.</p><p>Il est possible de forcer l&#39;utilisateur &agrave; saisir un commentaire avant d&#39;enregistrer sa d&eacute;cision en positionnant ce champ sur le comportement attendu&nbsp;:&nbsp;&#39;toujours obligatoire&#39;, &#39;obligatoire seulement si le bon de travail a &eacute;t&eacute; accept&eacute;&#39; ou &#39;obligatoire seulement si le bon de travail a &eacute;t&eacute; rejet&eacute;&#39;.</p><h4>
<a name="customizedLabels"></a>Options g&eacute;n&eacute;rales &gt; Libell&eacute;s personnalis&eacute;s</h4>
<p>Durant l&#39;ex&eacute;cution des t&acirc;ches utilisateur, l&#39;utilisateur peut accepter ou rejeter son bon de travail en cliquant sur le bouton correspondant. Dans la mod&eacute;lisation de workflow, il est possible pour certaines t&acirc;ches utilisateur de d&eacute;finir un libell&eacute; et un message de confirmation personnalis&eacute;s pour ces boutons. Cette fonctionnalit&eacute; est particuli&egrave;rement utile pour ajouter une signification particuli&egrave;re &agrave; l&#39;action d&#39;accepter ou rejeter un bon de travail. </p><h4>
Terminaison &gt; Crit&egrave;re de fin de t&acirc;che</h4>
<p> Une t&acirc;che utilisateur peut &ecirc;tre assign&eacute;e &agrave; plusieurs <em>participants</em> et g&eacute;n&eacute;rer plusieurs bons de travail durant l&#39;ex&eacute;cution du workflow. Lors de la d&eacute;finition d&#39;une t&acirc;che utilisateur dans le mod&egrave;le de workflow, il est possible de s&eacute;lectionner un des crit&egrave;res pr&eacute;d&eacute;finis qui d&eacute;terminent quand une t&acirc;che utilisateur est termin&eacute;e, en se basant sur le statut des bons de travail associ&eacute;s. Lorsque la condition de sortie de la t&acirc;che utilisateur sera remplie, le workflow de donn&eacute;es avancera jusqu&#39;&agrave; l&#39;&eacute;tape suivante d&eacute;finie dans le mod&egrave;le. </p><p> Par exemple, pour le cas d&#39;une t&acirc;che utilisateur qui demande la validation de l&#39;enregistrement d&#39;un produit, il est possible de d&eacute;signer trois participants. Le crit&egrave;re de fin de t&acirc;che permet de pr&eacute;ciser si l&#39;enregistrement du produit doit &ecirc;tre valid&eacute; par les trois participants, ou uniquement par le premier utilisateur &agrave; r&eacute;pondre. </p><p>Le crit&egrave;re de fin de t&acirc;che par d&eacute;faut est &#39;Quand tous les bons de travail ont &eacute;t&eacute; accept&eacute;s&#39;.</p><p><strong>Remarque :</strong> Si une extension de service surcharge la m&eacute;thode <code>UserTask.handleWorkItemCompletion</code> pour g&eacute;rer la fin de la t&acirc;che utilisateur, c&#39;est &agrave; la charge du d&eacute;veloppeur de l&#39;extension de v&eacute;rifier dans le code de cette m&eacute;thode que le crit&egrave;re de fin de t&acirc;che d&eacute;finie dans l&#39;interface a &eacute;t&eacute; satisfait. Voir <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/UserTask.html#handleWorkItemCompletion(com.orchestranetworks.workflow.UserTaskWorkItemCompletionContext)"><code>UserTask.handleWorkItemCompletion</code></a> dans la JavaDoc pour plus d&#39;informations.</p><h4>
<a name="rejectTolerance"></a>Terminaison &gt; Tol&eacute;rance de rejet</h4>
<p> Par d&eacute;faut, si un utilisateur rejette un bon de travail durant l&#39;ex&eacute;cution d&#39;un workflow, la t&acirc;che utilisateur est positionn&eacute;e en erreur et l&#39;avancement du workflow est stopp&eacute;. </p><p> Pour changer ce comportement par d&eacute;faut, il est possible de d&eacute;finir un nombre de bons de travail rejet&eacute;s &agrave; tol&eacute;rer. Tant que la limite de rejets tol&eacute;r&eacute;s n&#39;est pas d&eacute;pass&eacute;e, aucune erreur ne se produit et c&#39;est le crit&egrave;re de fin de t&acirc;che qui d&eacute;termine quand la t&acirc;che utilisateur est termin&eacute;e. </p><p>Les crit&egrave;res de fin de t&acirc;che suivants tol&egrave;rent automatiquement tous les rejets :</p><ul>
<li><p>&#39;Quand tous les bons de travail ont &eacute;t&eacute; accept&eacute;s ou rejet&eacute;s&#39;</p></li><li><p>&#39;Quand tous les bons de travail ont &eacute;t&eacute; accept&eacute;s, ou d&egrave;s qu&#39;un bon de travail a &eacute;t&eacute; rejet&eacute;&#39;</p></li></ul>
<h4>
<a name="extension"></a>Extension</h4>
<p>Il est possible d&#39;&eacute;tendre programmatiquement le comportement de la t&acirc;che afin que cette derni&egrave;re s&#39;ins&egrave;re plus finement dans le contexte du workflow. Par exemple si un comportement sp&eacute;cifique est n&eacute;cessaire, pour la cr&eacute;ation du bon de travail ou pour terminer la t&acirc;che de l&#39;utilisateur. </p><p>La r&egrave;gle sp&eacute;cifi&eacute;e est une classe Java Bean qui doit &eacute;tendre la classe <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/UserTask.html"><code>UserTask</code></a>.</p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
Si une r&egrave;gle est sp&eacute;cifi&eacute;e et la m&eacute;thode <code>handleWorkItemCompletion</code> surcharg&eacute;e, la strat&eacute;gie de fin n&#39;est plus automatiquement contr&ocirc;l&eacute;e. C&#39;est au d&eacute;veloppeur de la v&eacute;rifier dans cette m&eacute;thode.</fieldset>
<h4>
<a name="notification"></a>Notification</h4>
<p>Une notification par courrier &eacute;lectronique peut &ecirc;tre envoy&eacute;e aux utilisateurs quand des &eacute;v&eacute;nements sp&eacute;cifiques se produisent. Pour chaque &eacute;v&eacute;nement, vous pouvez sp&eacute;cifier un message type &agrave; utiliser.</p><p>En outre, il est possible de d&eacute;finir un profil, auquel une copie de chaque courrier envoy&eacute; sera transmise.</p><div id="seealsoShort">
<p><span style="color:#808080; font-size:1.1em; font-family:'Source Sans Pro', Helvetica, Arial, sans-serif; font-weight: bold;  margin:0 4px 0 0;">Voir aussi</span><a href="../user_workflowmodel/userworkflowmodel_intro.html#notification">Mod&egrave;les de message g&eacute;n&eacute;riques</a></p></div>
<h4>
<a name="reminder"></a>Relance</h4>
<p>Des courriers &eacute;lectroniques de relance pour les bons de travail propos&eacute;s ou allou&eacute;s et inachev&eacute;s peuvent &ecirc;tre envoy&eacute;s aux utilisateurs concern&eacute;s de mani&egrave;re p&eacute;riodique.</p><p>Le contenu des courriers de relance d&eacute;pend de l&#39;&eacute;tat courant du bon de travail. En effet, si le bon de travail est propos&eacute;, la notification utilisera le mod&egrave;le de courrier &eacute;lectronique &#39;Bons de travail propos&eacute;s&#39; ; si le bon de travail est allou&eacute;, la notification utilisera le mod&egrave;le &#39;Bons de travail allou&eacute;s&#39;.</p><h4>
<a name="deadline"></a>Ech&eacute;ance</h4>
<p>Une t&acirc;che utilisateur peut avoir une &eacute;ch&eacute;ance. Quand cette date est atteinte et si les bons de travail associ&eacute;s n&#39;ont pas &eacute;t&eacute; termin&eacute;s, un courrier &eacute;lectronique sp&eacute;cifique est envoy&eacute; aux utilisateurs concern&eacute;s. Ce courrier &eacute;lectronique va alors &ecirc;tre renvoy&eacute; tous les jours jusqu&#39;&agrave; l&#39;ach&egrave;vement de la t&acirc;che.</p><p>Il y a deux types d&#39;&eacute;ch&eacute;ances&nbsp;:&nbsp;</p><ul>
<li><p><em>Ech&eacute;ance absolue :</em> une date du calendrier.</p></li><li><p><em>Ech&eacute;ance relative :</em> dur&eacute;e (en heures, jours ou mois). La dur&eacute;e est &eacute;valu&eacute;e &agrave; partir d&#39;une date de r&eacute;f&eacute;rence&nbsp;:&nbsp;d&eacute;but d&#39;une t&acirc;che utilisateur ou d&eacute;but d&#39;un workflow. </p></li></ul>
<h2>
<a name="step_script"></a>T&acirc;che autonome</h2>
<p>Il existe deux types de t&acirc;ches automatiques :</p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Script de la biblioth&egrave;que</p></td><td class="ebx_definitionListDefinition"><p>EBX5 fournit des scripts de la biblioth&egrave;que pr&eacute;d&eacute;finis, qui peuvent &ecirc;tre utilis&eacute;s directement.</p><p>Les scripts de la biblioth&egrave;que sp&eacute;cifiques doivent &ecirc;tre d&eacute;clar&eacute;s dans un fichier <code>module.xml</code>. Un script de la biblioth&egrave;que sp&eacute;cifique doit d&eacute;finir son libell&eacute;, sa description et ses param&egrave;tres. Quand un utilisateur s&eacute;lectionne un script de la biblioth&egrave;que dans une &eacute;tape d&#39;un mod&egrave;le de donn&eacute;es, les param&egrave;tres associ&eacute;s sont affich&eacute;s dynamiquement.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Script sp&eacute;cifique</p></td><td class="ebx_definitionListDefinition"><p>Sp&eacute;cifie une classe Java qui ex&eacute;cute des actions sp&eacute;cifiques. La classe associ&eacute;e doit &ecirc;tre dans le m&ecirc;me module que celui associ&eacute; au mod&egrave;le de workflow. Ses libell&eacute;s et ses descriptions ne sont pas affich&eacute;s dynamiquement aux utilisateurs dans un mod&egrave;le de workflow.</p></td></tr>
</table>
<p><a href="../models/modules_packaging.html">Packaging EBX5 modules</a></p><h3>
<a name="workflow.scriptTask.library"></a>Script de la biblioth&egrave;que</h3>
<p>EBX5 inclut les scripts de la biblioth&egrave;que pr&eacute;d&eacute;finis suivants :</p><ul>
<li><p>Cr&eacute;er un espace de donn&eacute;es</p></li><li><p>Cr&eacute;er une image</p></li><li><p>Envoyer un courrier &eacute;lectronique</p></li><li><p>Fermer un espace de donn&eacute;es</p></li><li><p>Fusionner un espace de donn&eacute;es</p></li><li><p>Importer une archive</p></li></ul>
<p>Les scripts de la biblioth&egrave;que sont des classes qui &eacute;tendent la classe <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ScriptTaskBean.html"><code>ScriptTaskBean</code></a>. En compl&eacute;ment des scripts de la biblioth&egrave;que pr&eacute;d&eacute;finis, vous pouvez d&eacute;finir des scripts de la biblioth&egrave;que additionnels pour les utiliser dans les mod&egrave;les de workflows. Leurs libell&eacute;s et descriptions peuvent &ecirc;tre localis&eacute;s.</p><p>La m&eacute;thode <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ScriptTaskBean.html#executeScript(com.orchestranetworks.workflow.ScriptTaskBeanContext)"><code>ScriptTaskBean.executeScript</code></a> est appel&eacute;e lorsque le workflow de donn&eacute;es atteint l&#39;&eacute;tape correspondante.</p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
La m&eacute;thode <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ScriptTaskBean.html#executeScript(com.orchestranetworks.workflow.ScriptTaskBeanContext)"><code>ScriptTaskBean.executeScript</code></a> ne doit cr&eacute;er aucun <code>Thread</code>. En effet, le moteur de workflow passera &agrave; l&#39;&eacute;tape suivante quand le script se terminera. L&#39;ex&eacute;cution d&#39;une partie du script en mode asynchrone ne garantit donc pas sa terminaison avant le passage &agrave; l&#39;&eacute;tape suivante.</fieldset>
<p>Voir <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/package-summary.html#scriptTaskBean">l&#39;exemple</a> dans l&#39;API Java.</p><p>Il est possible de param&eacute;trer dynamiquement les variables du script de la biblioth&egrave;que, si son impl&eacute;mentation suit la sp&eacute;cification Java Bean. Les variables doivent &ecirc;tre d&eacute;clar&eacute;es comme param&egrave;tres du script de la biblioth&egrave;que dans le fichier <code>module.xml</code>. Le contexte des donn&eacute;es n&#39;est pas accessible depuis le Java bean.</p><div class="ebx_noteDiv">
<h5 class="ebx_noteTitle">
<b>Note</b></h5>
<p class="ebx_note">Certains scripts de biblioth&egrave;que pr&eacute;d&eacute;finis sont marqu&eacute;s comme &quot;obsol&egrave;tes&quot; car ils ne sont pas compatibles avec internationalisation. Il est recommand&eacute; d&#39;utiliser les nouvelles t&acirc;ches qui sont compatibles avec internationalisation.</p></div>
<h3>
<a name="id4s2"></a>Scripts sp&eacute;cifiques</h3>
<p>Les scripts sp&eacute;cifiques ont la particularit&eacute; d&#39;&eacute;tendre la classe <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ScriptTask.html"><code>ScriptTask</code></a>.</p><p>La m&eacute;thode <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ScriptTask.html#executeScript(com.orchestranetworks.workflow.ScriptTaskContext)"><code>ScriptTask.executeScript</code></a> est appel&eacute;e lorsque le workflow de donn&eacute;es atteint l&#39;&eacute;tape correspondante.</p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
La m&eacute;thode <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ScriptTask.html#executeScript(com.orchestranetworks.workflow.ScriptTaskContext)"><code>ScriptTask.executeScript</code></a> ne doit cr&eacute;er aucun <code>Thread</code>. En effet, le moteur de workflow passera &agrave; l&#39;&eacute;tape suivante quand le script se terminera. L&#39;ex&eacute;cution d&#39;une partie du script en mode asynchrone ne garantit donc pas sa terminaison avant le passage &agrave; l&#39;&eacute;tape suivante.</fieldset>
<p>Voir <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/package-summary.html#script">l&#39;exemple</a> dans l&#39;API Java.</p><p>Il n&#39;est pas possible de param&eacute;trer dynamiquement les variables d&#39;un script sp&eacute;cifique. Toutefois, le contexte des donn&eacute;es est accessible depuis le Java Bean.</p><h2>
<a name="step_condition"></a>Conditions</h2>
<p>Il existe deux types de conditions :</p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Condition de la biblioth&egrave;que</p></td><td class="ebx_definitionListDefinition"><p>EBX5 fournit des conditions de la biblioth&egrave;que pr&eacute;d&eacute;finies, qui peuvent &ecirc;tre utilis&eacute;es directement.</p><p>Les conditions de la biblioth&egrave;que sp&eacute;cifiques doivent &ecirc;tre d&eacute;clar&eacute;es dans un fichier <code>module.xml</code>. Une condition de la biblioth&egrave;que sp&eacute;cifique doit d&eacute;finir son libell&eacute;, sa description et ses param&egrave;tres. Quand un utilisateur s&eacute;lectionne une condition de la biblioth&egrave;que dans une &eacute;tape d&#39;un mod&egrave;le de donn&eacute;es, les param&egrave;tres associ&eacute;s sont affich&eacute;s dynamiquement.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Condition sp&eacute;cifique</p></td><td class="ebx_definitionListDefinition"><p>Sp&eacute;cifie une classe Java qui impl&eacute;mente une condition sp&eacute;cifique. La classe associ&eacute;e doit &ecirc;tre dans le m&ecirc;me module que celui associ&eacute; au mod&egrave;le de workflow. Ses libell&eacute;s et ses descriptions ne sont pas affich&eacute;s dynamiquement aux utilisateurs dans un mod&egrave;le de workflow.</p></td></tr>
</table>
<p><a href="../models/modules_packaging.html">Packaging EBX5 modules</a></p><h3>
<a name="workflow.condition.library"></a>Condition de la biblioth&egrave;que</h3>
<p>EBX5 inclut les conditions de la biblioth&egrave;que pr&eacute;d&eacute;finies suivantes :</p><ul>
<li><p>Derni&egrave;re t&acirc;che utilisateur accept&eacute;e ?</p></li><li><p>Espace de donn&eacute;es modifi&eacute; ?</p></li><li><p>Espace de donn&eacute;es valide ?</p></li><li><p>Valeur nulle ou vide ?</p></li><li><p>Valeurs &eacute;gales ?</p></li></ul>
<p>Les conditions de la biblioth&egrave;que sont des classes qui &eacute;tendent la classe <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/ConditionBean.html"><code>ConditionBean</code></a>. En compl&eacute;ment aux conditions de la biblioth&egrave;que pr&eacute;d&eacute;finies, vous pouvez d&eacute;finir des conditions de la biblioth&egrave;que additionnelles pour les utiliser dans des mod&egrave;les de donn&eacute;es. Leurs libell&eacute;s et descriptions peuvent &ecirc;tre localis&eacute;s.</p><p>Voir <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/package-summary.html#conditionBean">l&#39;exemple</a> dans l&#39;API Java.</p><p>Il est possible de param&eacute;trer dynamiquement les variables de la condition de la biblioth&egrave;que, si son impl&eacute;mentation suit la sp&eacute;cification Java Bean. Les variables doivent &ecirc;tre d&eacute;clar&eacute;es comme param&egrave;tres du script de la biblioth&egrave;que dans le <code>module.xml</code>. Le contexte des donn&eacute;es n&#39;est pas accessible depuis le Java bean.</p><h3>
<a name="id5s2"></a>Conditions sp&eacute;cifiques</h3>
<p>Les conditions sp&eacute;cifiques ont la particularit&eacute; d&#39;&eacute;tendre la classe <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/Condition.html"><code>Condition</code></a>.</p><p>Voir <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/package-summary.html#condition">l&#39;exemple</a> dans l&#39;API Java.</p><p>Il n&#39;est pas possible de param&eacute;trer dynamiquement les variables d&#39;une condition sp&eacute;cifique. Toutefois, le contexte des donn&eacute;es est accessible depuis le Java bean.</p><h2>
<a name="subworkflows"></a>Appels &agrave; des sous-workflows</h2>
<p>Les &eacute;tapes du type appel &agrave; des sous-workflows positionnent le workflow de donn&eacute;es courant dans l&#39;&eacute;tat &quot;en attente&quot; et lancent un ou plusieurs sous-workflows.</p><p>Il est possible d&#39;inclure un autre mod&egrave;le de workflow dans le mod&egrave;le de workflow courant en d&eacute;finissant un appel unique &agrave; ce sous-workflow dans une &eacute;tape.</p><p>Si plusieurs sous-workflows sont appel&eacute;s par une &eacute;tape, ils sont ex&eacute;cut&eacute;s simultan&eacute;ment, en parall&egrave;le. Tous les sous-workflows doivent &ecirc;tre termin&eacute;s pour que le workflow parent passe &agrave; l&#39;&eacute;tape suivante. Le libell&eacute; et la description de chaque sous-workflow peuvent &ecirc;tre localis&eacute;s.</p><p>Deux types d&#39;appels &agrave; des sous-workflows existent :</p><table class="ebx_definitionList">
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Statique</p></td><td class="ebx_definitionListDefinition"><p>D&eacute;finit un ou plusieurs sous-workflows &agrave; lancer chaque fois que cette &eacute;tape est ex&eacute;cut&eacute;e dans un workflow de donn&eacute;es. Pour chaque sous-workflow, il est possible de sp&eacute;cifier ses libell&eacute;s et ses descriptions, ainsi que les mappings d&#39;entr&eacute;e et de sortie dans son contexte de donn&eacute;es.</p><p>Ce mode est utile quand on sait &agrave; l&#39;avance quels sous-workflows doivent &ecirc;tre lanc&eacute;s, et comment le mapping de sortie doit &ecirc;tre realis&eacute;.</p></td></tr>
<tr class="ebx_definitionListItem">
<td class="ebx_definitionListTerm"><p>Dynamique</p></td><td class="ebx_definitionListDefinition"><p>Sp&eacute;cifie une classe Java qui impl&eacute;mente un appel sp&eacute;cifique &agrave; des sous-workflows. Tous les workflows qui peuvent &eacute;ventuellement &ecirc;tre appel&eacute;s comme sous-workflows par le code doivent &ecirc;tre d&eacute;clar&eacute;s comme d&eacute;pendances.</p><p>Le contexte de donn&eacute;es est directement accessible depuis le Java bean.</p><p>Les appels de sous-workflows dynamiques doivent &ecirc;tre d&eacute;clar&eacute;s dans un fichier <code>module.xml</code>.</p><p>Ce mode est utile quand le lancement des sous-workflows est conditionnel (par exemple, lorsqu&#39;il d&eacute;pend d&#39;une variable du contexte de donn&eacute;es), ou quand le mapping de sortie d&eacute;pend de l&#39;ex&eacute;cution des diff&eacute;rents sous-workflows.</p></td></tr>
</table>
<h2>
<a name="waitTasks"></a>T&acirc;ches d&#39;attente</h2>
<p>Une &eacute;tape d&#39;attente dans un mod&egrave;le de workflow met le workflow en pause en attendant la r&eacute;ception d&#39;un &eacute;v&eacute;nement donn&eacute;.</p><p>Lorsqu&#39;une t&acirc;che d&#39;attente est appel&eacute;e, le moteur de workflow g&eacute;n&egrave;re un identifiant unique de r&eacute;veil li&eacute; &agrave; la t&acirc;che d&#39;attente. Cet identifiant est requis pour r&eacute;veiller la t&acirc;che d&#39;attente et, par cons&eacute;quent, le workflow associ&eacute;.</p><p>Une t&acirc;che d&#39;attente sp&eacute;cifie quel profil est autoris&eacute; &agrave; r&eacute;veiller la t&acirc;che d&#39;attente&nbsp;;&nbsp;et la classe Java qui impl&eacute;mente un bean de t&acirc;che d&#39;attente : <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/WaitTaskBean.html"><code>WaitTaskBean</code></a>.</p><p> Le contexte de donn&eacute;es du workflow est directement accessible &agrave; partir du Java bean.</p><p>Les beans de t&acirc;che d&#39;attente doivent &ecirc;tre d&eacute;clar&eacute;s dans un fichier <code>module.xml</code>.</p><p>Le bean de t&acirc;che d&#39;attente est d&#39;abord appel&eacute; lorsque le workflow est mis en pause. L&#39;identifiant de r&eacute;veil est alors disponible pour appeler un web service, par exemple. Puis, le bean de t&acirc;che d&#39;attente est appel&eacute; lorsque la t&acirc;che d&#39;attente est r&eacute;veill&eacute;e. De cette fa&ccedil;on, le contexte de donn&eacute;es peut &ecirc;tre mis &agrave; jour en fonction des param&egrave;tres re&ccedil;us.</p><div class="ebx_noteDiv">
<h5 class="ebx_noteTitle">
<b>Note</b></h5>
<p class="ebx_note">L&#39;administrateur built-in est toujours autoris&eacute; &agrave; r&eacute;veiller un workflow.</p></div>
<p class="noPrint" align="right"><em><img alt="/ebx_search.png" src="../resources/images/symbols/ebx_search.png"></img><a href="../table_contents_user.html"> Sommaire</a></em> du guide utilisateur</p><div id="ebx_breadcrumbBottom">
<span class="ebx_breadcrumbLabel">Documentation &gt; Guide utilisateur &gt; Modèles de workflow</span></div>
</div>
<p id="ebx_footer"><b>EBX5 Version 5.6.1 Fix M [0985:0021]. </b>Copyright &copy; <a href="http://www.orchestranetworks.com" target="_blank" style="text-decoration: none;">Orchestra Networks</a> 2000-2015. All rights reserved.<br></br>Trademarks and brand names referred to in this web site relating to organizations other than Orchestra Networks are the property of those organizations and Orchestra Networks makes no claims to such property.</p></div>
<script type="text/javaScript" src="../resources/yui/yahoo/yahoo-min.js">
</script>
<script type="text/javaScript" src="../resources/yui/event/event-min.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_doc_utils.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_simplePage.js">
</script>
<script type="text/javaScript">
var ie6CompatibilityCSSURL = "../resources/stylesheets/ebx_ie6_compatibility.css";</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_ie6_compatibility.js">
</script>
</body>
</html>
