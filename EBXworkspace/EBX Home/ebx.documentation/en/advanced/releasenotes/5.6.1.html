<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>
EBX5 documentation - 5.6.1 fix M</title>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"></meta><meta content="Copyright Orchestra Networks 2000-2013. All rights reserved." name="copyright"></meta><meta content="index_releasenotes" name="doc_id"></meta><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_common.css"></link><link rel="stylesheet" type="text/css" href="../resources/stylesheets/ebx_docPage.css"></link><link rel="icon" type="image/x-icon" href="../resources/icons/brand.ico"></link></head>
<body class="ebx_simplePage">
<div id="ebx_centerer">
<div id="ebx_main">
<div id="printHeader">
<div class="productName">
EBX5</div>
<div class="chapterName">
EBX5 documentation</div>
</div>
<div id="ebx_breadcrumbTop">
<a id="ebx_navigationModeButton" href="../index.html?page=releasenotes/5.6.1.html" title="Display this page with header and navigation panes">Navigation mode</a><span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
<h1>
5.6.1 fix M</h1>
<div id="toc">
<h4 id="tocTitle">
In this version</h4>
<ul class="toc1">
<li class="toc1"><a href="#id1">5.6.1 fixes</a></li><li class="toc1"><a href="#Overview">Overview of 5.6.1</a></li><li class="toc1"><a href="#id3">User interface</a><ul class="toc2">
<li class="toc2"><a href="#id3s1">Forms layout</a></li><li class="toc2"><a href="#id3s2">User views</a></li><li class="toc2"><a href="#id3s3">Perspectives improvements</a></li><li class="toc2"><a href="#id3s4">Documentation pane optimization</a></li><li class="toc2"><a href="#id3s5">Display mode of table data</a></li></ul>
</li><li class="toc1"><a href="#id4">Workflows</a><ul class="toc2">
<li class="toc2"><a href="#id4s1">Wait tasks</a></li><li class="toc2"><a href="#id4s2">Follow data context in the graphical view</a></li><li class="toc2"><a href="#id4s3">Mandatory comment on a work item</a></li><li class="toc2"><a href="#id4s4">Updated workflow configuration</a></li></ul>
</li><li class="toc1"><a href="#id5">Data services</a><ul class="toc2">
<li class="toc2"><a href="#id5s1">New operation to resume a data workflow</a></li><li class="toc2"><a href="#id5s2">&#39;Start / end a workflow&#39; operations have been updated</a></li></ul>
</li><li class="toc1"><a href="#Performance">Performance improvements</a><ul class="toc2">
<li class="toc2"><a href="#id6s1">Permissions</a></li><li class="toc2"><a href="#id6s2">Data space selector</a></li><li class="toc2"><a href="#id6s3">Hierarchy views</a></li><li class="toc2"><a href="#id6s4">Hierarchy views ordering</a></li><li class="toc2"><a href="#id6s5">Startup time</a></li></ul>
</li><li class="toc1"><a href="#id7">Technical administration</a><ul class="toc2">
<li class="toc2"><a href="#id7s1">Distributed data delivery (D3)</a></li><li class="toc2"><a href="#id7s2">Java EE Manifest file in webapp</a></li><li class="toc2"><a href="#databaseMapping">Database mapping</a></li></ul>
</li><li class="toc1"><a href="#API">Java API</a><ul class="toc2">
<li class="toc2"><a href="#id8s1">ProcedureContext.isReadOnly()</a></li><li class="toc2"><a href="#api561FixM-perspective">Select perspective</a></li><li class="toc2"><a href="#api561FixM-owner">ProcedureContext.setInstanceOwner()</a></li></ul>
</li><li class="toc1"><a href="#versionUpgrade">Version upgrade</a><ul class="toc2">
<li class="toc2"><a href="#BackwardCompatibility">Backward compatibility</a></li><li class="toc2"><a href="#id9s2">How to upgrade an installed environment</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixM">5.6.1 fix M bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixM-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug561FixM-Dataservices">Data services</a></li><li class="toc2"><a href="#bug561FixM-Datavalidation">Data validation</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixL">5.6.1 fix L bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixL-Coreengine">Core engine</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixK">5.6.1 fix K bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixK-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixK-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug561FixK-Dataservices">Data services</a></li><li class="toc2"><a href="#bug561FixK-DataspacesHistory">Data spaces &amp; History</a></li><li class="toc2"><a href="#bug561FixK-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug561FixK-Dataviews">Data views</a></li><li class="toc2"><a href="#bug561FixK-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug561FixK-DistributedDataDelivery">Distributed Data Delivery (D3)</a></li><li class="toc2"><a href="#bug561FixK-ImportExport">Import / Export</a></li><li class="toc2"><a href="#bug561FixK-Messagesi18n">Messages &amp; i18n</a></li><li class="toc2"><a href="#bug561FixK-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixJ">5.6.1 fix J bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixJ-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixJ-Dataservices">Data services</a></li><li class="toc2"><a href="#bug561FixJ-Dataviews">Data views</a></li><li class="toc2"><a href="#bug561FixJ-Messagesi18n">Messages &amp; i18n</a></li><li class="toc2"><a href="#bug561FixJ-Userinterface">User interface</a></li><li class="toc2"><a href="#bug561FixJ-UsersPermissions">Users &amp; Permissions</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixI">5.6.1 fix I bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixI-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixI-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug561FixI-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug561FixI-Dataviews">Data views</a></li><li class="toc2"><a href="#bug561FixI-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug561FixI-DistributedDataDelivery">Distributed Data Delivery (D3)</a></li><li class="toc2"><a href="#bug561FixI-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixH">5.6.1 fix H bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixH-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixH-Dataservices">Data services</a></li><li class="toc2"><a href="#bug561FixH-DistributedDataDelivery">Distributed Data Delivery (D3)</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixG">5.6.1 fix G bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixG-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixF">5.6.1 fix F bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixF-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixF-Dataviews">Data views</a></li><li class="toc2"><a href="#bug561FixF-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixE">5.6.1 fix E bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixE-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixE-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug561FixE-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixD">5.6.1 fix D bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixD-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixD-Dataservices">Data services</a></li><li class="toc2"><a href="#bug561FixD-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug561FixD-Dataviews">Data views</a></li><li class="toc2"><a href="#bug561FixD-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixC">5.6.1 fix C bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixC-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixC-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixB">5.6.1 fix B bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixB-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixB-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug561FixB-Dataservices">Data services</a></li><li class="toc2"><a href="#bug561FixB-Dataviews">Data views</a></li><li class="toc2"><a href="#bug561FixB-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug561FixB-Userinterface">User interface</a></li></ul>
</li><li class="toc1"><a href="#bugfix561FixA">5.6.1 fix A bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug561FixA-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug561FixA-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug561FixA-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug561FixA-Dataviews">Data views</a></li></ul>
</li><li class="toc1"><a href="#bugfix">Bug fixes</a><ul class="toc2">
<li class="toc2"><a href="#bug-Coreengine">Core engine</a></li><li class="toc2"><a href="#bug-Datamodeling">Data modeling</a></li><li class="toc2"><a href="#bug-DataspacesHistory">Data spaces &amp; History</a></li><li class="toc2"><a href="#bug-Datavalidation">Data validation</a></li><li class="toc2"><a href="#bug-Dataviews">Data views</a></li><li class="toc2"><a href="#bug-Dataworkflows">Data workflows</a></li><li class="toc2"><a href="#bug-DistributedDataDelivery">Distributed Data Delivery (D3)</a></li><li class="toc2"><a href="#bug-Documentation">Documentation</a></li><li class="toc2"><a href="#bug-ImportExport">Import / Export</a></li><li class="toc2"><a href="#bug-J2EEIntegration">J2EE Integration</a></li><li class="toc2"><a href="#bug-Miscellaneous">Miscellaneous</a></li><li class="toc2"><a href="#bug-Userinterface">User interface</a></li><li class="toc2"><a href="#bug-UsersPermissions">Users &amp; Permissions</a></li></ul>
</li></ul>
</div>
<h2>
<a name="id1"></a>5.6.1 fixes</h2>
<p><em><strong>5.6.1 fix M</strong> released on December 17, 2015 for <a href="#bugfix561FixM">bug fixes</a> and a new <a href="#api561FixM-perspective">API for selecting perspectives.</a>. </em></p><p><em><strong>5.6.1 fix L</strong> released on December 7, 2015 for <a href="#bugfix561FixL">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix K</strong> released on December 4, 2015 for <a href="#bugfix561FixK">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix J</strong> released on October 16, 2015 for <a href="#bugfix561FixJ">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix I</strong> released on October 2, 2015 for <a href="#bugfix561FixI">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix H</strong> released on August 18, 2015 for <a href="#bugfix561FixH">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix G</strong> released on August 6, 2015 for <a href="#bugfix561FixG">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix F</strong> released on July 29, 2015 for <a href="#bugfix561FixF">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix E</strong> released on July 21, 2015 for a workaround of a <a href="#duplicatingRecords">backward compatibility</a> introduced in version 5.6.1 and <a href="#bugfix561FixE">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix D</strong> released on July 13, 2015 for a new feature for <a href="#databaseMapping">database mapping</a> and <a href="#bugfix561FixD">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix C</strong> released on June 16, 2015 for <a href="#bugfix561FixC">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix B</strong> released on June 15, 2015 for new features for <a href="#databaseMapping">database mapping</a> and <a href="#bugfix561FixB">bug fixes</a>. </em></p><p><em><strong>5.6.1 fix A</strong> released on May 15, 2015 for <a href="#bugfix561FixA">bug fixes</a>. </em></p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
<p>As a consequence of the bug fix <a href="#bug_16071">#16071</a>, foreign key constraints are no longer immediately revalidated on data spaces that are not loaded, and on tables that have not been validated at least once. This means that if an insertion or deletion occurs in a referenced table, then foreign key constraints will not be immediately revalidated in these cases. </p><p>This allows reducing the memory and CPU costs and the duration of the incremental validation on repositories with many data spaces.</p><p>Consequently, when an update in a referenced table adds or removes validation messages from the data sets that contain these foreign key constraints, users will not see it. The validation of these foreign key constraints will be performed when explicitly validating the table or data set containing them. </p></fieldset>
<p><em><strong>5.6.1</strong> released on April 27, 2015. </em></p><h2>
<a name="Overview"></a>Overview of 5.6.1</h2>
<p>This version is mainly a maintenance release, with a special focus on performance improvements, especially regarding hierarchical views and permissions.</p><p>This version offers a limited set of new features, including a new workflow step called &#39;Wait task&#39;.</p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
<strong>Before proceeding with the upgrade of an existing environment, ensure that you have carefully read the <a href="#versionUpgrade">Version upgrade</a> section</strong>.</fieldset>
<h2>
<a name="id3"></a>User interface</h2>
<h3>
<a name="id3s1"></a>Forms layout</h3>
<p>The layout of forms has been enhanced. </p><p>Main changes include a new central indentation for groups: the indentation system (expand/collapse buttons and vertical grey line) is now located between labels and input fields. In previous versions it was located to the left of the labels, but it was not convenient. The documentation pane button, primary key icon, and specific optional icons are now grouped to the right of the label. For consistency purposes, the mandatory field indicator is now also located to the right of every label. If there is more than one, elements will stack. </p><p><img alt="/5.6.1-FormsLayout.png" src="../resources/images/releasenotes/5.6.1-FormsLayout.png"></img></p><div class="ebx_noteDiv">
<h5 class="ebx_noteTitle">
<b>Note</b></h5>
<p class="ebx_note">Custom layouts have to implement the method starting a table of form rows in order to benefit from these improvements. See <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIComponentWriter.html#startTableFormRow()"><code>UIComponentWriter.startTableFormRow</code></a> and <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIComponentWriter.html#startFormRow(com.orchestranetworks.ui.UIFormLabelSpec)"><code>UIComponentWriter.startFormRow</code></a> in Java API for more information.</p></div>
<p>The primary key and foreign key icons are now only represented by the primary key icon. Foreign keys that are not primary keys do not have icons.</p><h3>
<a name="id3s2"></a>User views</h3>
<p>Users can now define the current displayed view as their favorite view. Defining a view as &#39;Favorite&#39; means that this view will be automatically applied when accessing the table. </p><p>&#39;Preferred views&#39; have been renamed since version 5.6.0 and are now called &#39;Recommended views&#39;.</p><p>The &#39;Manage views&#39; sub-menu allows defining the current displayed view as the favorite view, or defining the recommended view as the favorite view.</p><p>See <a href="../user_data/userdata_viewing.html#manage_views">Manage views</a> for more information.</p><h3>
<a name="id3s3"></a>Perspectives improvements</h3>
<ul>
<li><p>In the perspectives, the label of action menu items is now optional. If not specified, the label will be dynamically generated by EBX5 when the menu item is displayed.</p><p>See <a href="../engine/admin_frontend.html#perspective">Perspectives configuration</a> for more information.</p></li><li><p>Two new HTTP parameters have been published so that web components can be created on perspectives and on perspectives actions.</p><p>See <a href="../references/manager_component_ref.html">Using EBX5 as a web component</a> for more information.</p></li><li><p>In the perspectives, a counter has been added next to the inbox menu item in order to display the number of remaining work items.</p></li></ul>
<h3>
<a name="id3s4"></a>Documentation pane optimization</h3>
<p>The documentation pane button, located to the right of a label, is no longer displayed when the documentation pane only repeats the label itself. This prevents from clicking on the button when there is nothing more than the label to be displayed in the documentation pane.</p><h3>
<a name="id3s5"></a>Display mode of table data</h3>
<p>A new parameter allows defining, in a web component, whether to display the filtered table view or the first record upon first call of the web component.</p><p>See <a href="../references/manager_component_ref.html#firstCallDisplay"><code>firstCallDisplay</code></a> parameter or <a target="_blank" href="../Java_API/com/orchestranetworks/ui/FirstCallDisplay.html"> the Java API </a> for more information.</p><h2>
<a name="id4"></a>Workflows</h2>
<h3>
<a name="id4s1"></a>Wait tasks</h3>
<p>Workflows now include a new step called &#39;Wait task&#39;. It is represented by this icon <img alt="/5.6.1-WaitTaskIcon.png" src="../resources/images/releasenotes/5.6.1-WaitTaskIcon.png"></img>. This step is used to put a workflow in a pending mode until a given event is received. The event notification is managed either by a data service or an API. </p><p>For example, this new feature is used when communication with an external system is required in a workflow process to retrieve specific information generated by the external system. Thanks to this new step type, it is now possible to pause the workflow until the external system responds.</p><p>Example of a wait step in a data workflow: </p><p><img alt="/5.6.1-WaitTaskExec.png" src="../resources/images/releasenotes/5.6.1-WaitTaskExec.png"></img></p><p>When resuming the workflow, the external system has the possibility to update the associated data context. In this way, after resuming, the workflow will be able to use the received information in the following steps. </p><p>When the workflow reaches a wait task, its state becomes &#39;Waiting for event&#39;.</p><p>In the &#39;Workflow models&#39; section, a new service is available to add a wait task to a workflow. See <a href="../user_workflowmodel/userworkflowmodel_createimplement.html#waitTasks">Wait tasks</a> for more information. </p><p>A wait task is associated with a <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/WaitTaskBean.html"><code>WaitTaskBean</code></a>. This bean must be declared in a <code>module.xml</code> file.</p><p>A wait task can be resumed by Java API or by the &#39;workflow&#39; data service. See <a target="_blank" href="../Java_API/com/orchestranetworks/workflow/WorkflowEngine.html#resumeWaitTask(com.orchestranetworks.workflow.WaitTaskResumeMessage)"><code>WorkflowEngine.resumeWaitTask</code></a> and <a href="../references/dataservices_execution.html#resumeWorkflow">resume data service</a> for more information.</p><p>In the &#39;Data workflows&#39; section, a new administration action is available to force resuming a waiting data workflow. A new permission is associated with this action in the workflow permissions, in the configuration of a workflow model. See <a href="../user_dataworkflow/userdataworkflow_admin.html#actions_workflows">Actions on data workflows tasks</a> and <a href="../user_workflowmodel/userworkflowmodel_actions.html#permissions">Permissions on data workflows</a> for more information. </p><h3>
<a name="id4s2"></a>Follow data context in the graphical view</h3>
<p>The graphical workflow view has been enhanced to display the data context state for each workflow step. The information is only available to administrators.</p><p>For each step, the value of data context variables is displayed before and after the step execution (when the step is complete):</p><p><img alt="/5.6.1-GraphicalView.png" src="../resources/images/releasenotes/5.6.1-GraphicalView.png"></img></p><p> It is now possible to know which data context variables have been updated for each step. When browsing steps, the administrator can follow the history of related data context.</p><h3>
<a name="id4s3"></a>Mandatory comment on a work item</h3>
<p>In previous versions, when a mandatory comment was left blank on a work item, an error message was displayed. The user interface has been improved to automatically open the comment form when the work item is empty but required.</p><h3>
<a name="id4s4"></a>Updated workflow configuration</h3>
<p>The unused field &#39;activate email&#39; has been removed from the workflow configuration section.</p><p>To enable or disable emails, the property &#39;ebx.mail.activate&#39; in the &#39;ebx.properties&#39; file must be used instead.</p><p>See <a href="../installation/properties.html#smtp">Activating and configuring SMTP and e-mails</a> for more information.</p><h2>
<a name="id5"></a>Data services</h2>
<h3>
<a name="id5s1"></a>New operation to resume a data workflow</h3>
<p>A new &#39;resume&#39; operation has been added to the &#39;Data workflow&#39; data service. The corresponding WSDL can be downloaded from the user interface in the &#39;Data services&#39; section.</p><p>See the <a href="../references/dataservices_execution.html#resumeWorkflow"><code>resume a workflow</code></a> data service for more information.</p><h3>
<a name="id5s2"></a>&#39;Start / end a workflow&#39; operations have been updated</h3>
<p>The existing &#39;Data workflow&#39; operations have been updated to use the process instance key.</p><p>The backward compatibility with the process instance id and the publication name is ensured.</p><p>See the <a href="../references/dataservices_execution.html#startWorkflow"><code>start a workflow</code></a> and <a href="../references/dataservices_execution.html#endWorkflow"><code>end a workflow</code></a> data services for more information.</p><h2>
<a name="Performance"></a>Performance improvements</h2>
<h3>
<a name="id6s1"></a>Permissions</h3>
<p>Additional caching of resolved permissions allows for enhanced responsiveness, especially on tasks involving a large number of permissions. </p><p>For example, it has been observed that, for an &#39;expand all&#39; operation on hierarchies, the CPU usage has been divided by 10. </p><p>Caching is done at the session-level; it only takes user-defined permission rules into account, not programmatic rules (which are not cached since they are contextual and dynamic). The session cache life cycle depends on the context, as described hereafter:</p><ul>
<li><p>In the UI, the cache is cleared for every non-ajax event (i.e on page display, pop-up opening, etc.).</p></li><li><p>In programmatic procedures, the cache lasts until the end of the procedure, unless explicitly cleared (see below).</p></li></ul>
<fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
<p>When modifying permissions in a procedure context (by importing an EBX5 archive or merging a data space programmatically), the session cache <strong>must</strong> be cleared via the new API method <a target="_blank" href="../Java_API/com/orchestranetworks/service/Session.html"><code>Session</code></a>. Otherwise, these modifications will not be reflected until the end of the procedure.</p></fieldset>
<h3>
<a name="id6s2"></a>Data space selector</h3>
<p>The data space selector in the navigation pane of the functional &#39;Data&#39; area has been optimized for large repositories.</p><h3>
<a name="id6s3"></a>Hierarchy views</h3>
<p>Many improvements have been performed on hierarchy views navigation. </p><p>Browsing the data hierarchy is now smoother, even on hierarchies containing millions of nodes. </p><p>The response time on text searches, &#39;expand all&#39; and many more operations has also been greatly improved. </p><h3>
<a name="id6s4"></a>Hierarchy views ordering</h3>
<p>The ordering mechanism in data hierarchies has been enhanced to avoid a large number of record updates when attaching a node to another parent. The ordering system has a new feature that allows having an integer field (that can be hidden) with &quot;holes&quot;. When attaching a node to another parent, the order field is updated without impacting other records placed after the node. Only the order of the attached node is modified. </p><p>In some rare cases, when the hole is filled after several insertions at the same place, the order of all sibling nodes is recomputed, leading to a large number of record updates. To avoid these updates, it is recommended to set the order field to auto-increment, with an increment step equal or greater than 1000 (hole size).</p><h3>
<a name="id6s5"></a>Startup time</h3>
<p>Dependencies between data sets and data spaces have been reviewed in order to reduce the repository startup time. Startups are now expected to be faster for repositories with many data sets defining relationships (using foreign keys, selection nodes or associations) to other data sets and data spaces.</p><h2>
<a name="id7"></a>Technical administration</h2>
<h3>
<a name="id7s1"></a>Distributed data delivery (D3)</h3>
<h4>
Broadcast segmentation using JMS</h4>
<p>The new property <code>ebx.jms.d3.archiveMaxSizeInKB</code> has been added. It specifies the maximum size of the broadcast content, used for dividing JMS messages containing archives into sequences so that their size does not exceed the maximum size.</p><h4>
Ability to delete slave snapshots</h4>
<p>The limitation on the deletion of slave snapshots has been removed. All snapshots can now be deleted by authorized profiles. However, the last broadcast snapshot can never be deleted.</p><h4>
Data space view</h4>
<p>The last broadcast snapshot, initially displayed in the technical table &#39;Delivery data spaces&#39; in &#39;[D3] Master configuration&#39;, is now highlighted in the snapshot table of the data space. It is represented by an icon displayed in the first column.</p><h3>
<a name="id7s2"></a>Java EE Manifest file in webapp</h3>
<p>If a specific webapp defines a <code>MANIFEST.MF</code> file, EBX5 reports the &#39;Implementation-Title&#39; and &#39;Implementation-Version&#39; values in <em>Administration &gt; Actions &gt; Administration tools &gt; Modules and data models</em>.</p><h3>
<a name="databaseMapping"></a>Database mapping</h3>
<p>Since version 5.6.1 fix B, new features for database mapping allow renaming and purging mapped columns in the database.</p><p>Since version 5.6.1 fix D, a new feature for database mapping allows renaming auxiliary mapped tables for replicated mode in the database.</p><p>See <a href="../engine/database_mapping.html">Database mapping administration</a> for more information.</p><div class="ebx_noteDiv">
<h5 class="ebx_noteTitle">
<b>Note</b></h5>
<p class="ebx_note">These evolutions will require the addition of <a href="../resources/utils/5.6.1_fixB_readMe.txt">new localized messages</a> for environments deployed with locales other than the built-in localized languages (&quot;en-US&quot; and &quot;fr-FR&quot;). </p></div>
<h2>
<a name="API"></a>Java API</h2>
<h3>
<a name="id8s1"></a>ProcedureContext.isReadOnly()</h3>
<p>The new method <code>isReadOnly</code> allows knowing if the procedure is Read Only.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ProcedureContext.html#isReadOnly()"><code>ProcedureContext.isReadOnly</code></a> in Java API for more information.</p><h3>
<a name="api561FixM-perspective"></a>Select perspective</h3>
<p>Since version 5.6.1 fix M, this new method can be used to move the user selection to the specified perspective.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/ui/UIJavaScriptWriter.html#addJS_switchToPerspective(java.lang.String)"><code>UIJavaScriptWriter.addJS_switchToPerspective()</code></a> for more information.</p><h3>
<a name="api561FixM-owner"></a>ProcedureContext.setInstanceOwner()</h3>
<p>Since version 5.6.1 fix M, this method applies also on child data sets.</p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/service/ProcedureContext.html#setInstanceOwner(com.onwbp.adaptation.Adaptation, com.orchestranetworks.service.Profile)"><code>ProcedureContext.setInstanceOwner()</code></a> for more information.</p><h2>
<a name="versionUpgrade"></a>Version upgrade</h2>
<h3>
<a name="BackwardCompatibility"></a>Backward compatibility</h3>
<h4>
Data modeling</h4>
<h5>
Conversion error message</h5>
<p>Due to the fix of the issue <a href="#bug_14777">#14777</a>, the definition of conversion error messages has been simplified. The previous notation is still supported but is no longer documented. </p><p>See <a href="../models/labels_error_messages.html#id4">Conversion error messages</a> for more information.</p><h5>
Data model dependencies</h5>
<p>Data model compilation is now stricter regarding the definition of dependencies to other datasets during the setup of constraints. That is, a compilation error is now added if the target table of a dependency in another dataset does not exist. </p><p>See <a target="_blank" href="../Java_API/com/orchestranetworks/schema/DependenciesDefinitionContext.html#addDependencyToInsertAndDeleteInOtherInstance(com.orchestranetworks.schema.Path, com.onwbp.adaptation.AdaptationReference, com.orchestranetworks.instance.HomeKey)">DependenciesDefinitionContext</a> for more information.</p><h4>
Validation</h4>
<h5>
Uniqueness constraints on multiple fields</h5>
<p>Due to the fix of the issue <a href="#bug_13684">#13684</a>, the validation of uniqueness constraints on multiple fields is now stricter regarding undefined values. In prior versions, undefined values were ignored when checking sets of values but are now taken into account. That is, sets of values are now considered as being duplicated if they have the same defined and undefined values. </p><p>See <a href="../models/constraints.html#xsdUnique">Uniqueness constraint</a> for more information.</p><h4>
<a name="duplicatingRecords"></a>Duplicating records with unmodifiable fields</h4>
<p>While fixing bug <a href="#bug_13813">#13813</a>, an important change of behavior was introduced in version 5.6.1. Indeed, this fix allowed fixing duplications that were systematically returning an error when the user did not have modification rights on at least one field of the record to copy. However, this problem could be (and was) bypassed before 5.6.1 thanks to triggers (for example by calling <code>setAllPrivileges</code> in the <a target="_blank" href="../Java_API/com/orchestranetworks/schema/trigger/TableTrigger.html#handleBeforeCreate(com.orchestranetworks.schema.trigger.BeforeCreateOccurrenceContext)"><code>TableTrigger.handleBeforeCreate</code></a> method).</p><p>This fix has led to the following change of behavior: the source value of a non-modifiable field is not copied anymore, it is now the default value that is being defined (<code>null</code> if no default value is set).</p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
<p>Since version 5.6.1 Fix E, it is possible to ensure the same behavior as with versions prior to 5.6.1 by means of setting the <code>ebx.operation.duplicate.compatibilityWithVersionsBefore561</code> property to <code>true</code> in the <code>ebx.properties</code> file.</p><p>This is currently the only way to bypass the new behavior and to allow the copy of non-modifiable fields.</p></fieldset>
<p></p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
<p>When a record is created or duplicated, record fields can be modified before being displayed by implementing the table trigger method <a target="_blank" href="../Java_API/com/orchestranetworks/schema/trigger/TableTrigger.html#handleNewContext(com.orchestranetworks.schema.trigger.NewTransientOccurrenceContext)"><code>TableTrigger.handleNewContext</code></a>. </p><p>Note that when duplicating a record:</p><ul>
<li><p>Before version 5.6.1 Fix E, the record returned by the method <a target="_blank" href="../Java_API/com/orchestranetworks/schema/trigger/NewTransientOccurrenceContext.html#getOccurrenceContextForUpdate()"><code>NewTransientOccurrenceContext.getOccurrenceContextForUpdate</code></a> had its non-modifiable fields reset to their default value (or <code>null</code> when no default value).</p></li><li><p>From version 5.6.1 Fix E, the record returned by this method has all its fields duplicated, even non-modifiable ones. But these non-modifiable fields will then be reset just before being displayed when in a UI context, or before the saving process when in a programmatic context. This is to allow developers to use non-modifiable fields to eventually compute other modifiable fields. </p></li></ul>
</fieldset>
<h3>
<a name="id9s2"></a>How to upgrade an installed environment</h3>
<p>In order to upgrade your version of EBX5, perform the following steps:</p><ol>
<li><p>Backup your repository, including the RDBMS and the directory <code>ebx.repository.directory</code>.</p></li><li><p>Replace the <code>*.war</code> and <code>ebx.jar</code> files on your application server.</p></li></ol>
<fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
<p>If using EBX5 add-ons, ensure that the versions of the add-ons are compatible with EBX5 version 5.6.1 before upgrading. For the backward compatibility of the add-ons themselves, consult the release note of each add-on.</p><p>Once an EBX5 repository has been used with this version, using it with a previous version is not supported. Consequently, you must create a backup before upgrading, as described above, in order to maintain the possibility of downgrading later.</p></fieldset>
<p></p><fieldset class="ebx_attention">
<legend>
<b>Attention</b></legend>
<p>When upgrading from a version prior to <a href="./5.4.0.html">5.4.0</a>, the product upgrade will create a new index on the table <code>{ebx.persistence.table.prefix}HTB</code>.</p><p>On larger repositories, this may introduce a one-time performance hit when starting the server for the upgrade (about one minute for 20M records in the <code>{ebx.persistence.table.prefix}HTB</code> table).</p><p>It is therefore strongly recommended to delete any unused dataspaces and snapshots, then to run a purge on the repository before upgrading to this version.</p></fieldset>
<h2>
<a name="bugfix561FixM"></a>5.6.1 fix M bug fixes</h2>
<h3>
<a name="bug561FixM-Datamodeling"></a>Data modeling</h3>
<ul>
<li><p><a name="bug_16663"></a><strong>[16663]</strong> A fatal error occurs when creating a record in the &#39;Component library&#39; table under the model &#39;Configuration&#39;. </p><p>In the &#39;Component library&#39; table under the model &#39;Configuration&#39;, when the user creates a record for a declared class, a fatal error occurs.</p></li><li><p><a name="bug_18327"></a><strong>[18327]</strong> In the data model, when a user who has the &#39;Read-only&#39; permission accesses the &#39;Default view&#39; property, an error occurs. </p></li></ul>
<h3>
<a name="bug561FixM-Dataservices"></a>Data services</h3>
<ul>
<li><p><a name="bug_16471"></a><strong>[16471]</strong> Incorrect primary key is displayed in the error message when importing a non-existent record. </p><p>When importing a non-existent record from an XML file in the &#39;Update only&#39; mode, an incorrect primary key is displayed in the error message.</p></li></ul>
<h3>
<a name="bug561FixM-Datavalidation"></a>Data validation</h3>
<ul>
<li><p><a name="bug_18636"></a><strong>[18636]</strong> Retrieving the informal validation report of a record is too slow. </p></li></ul>
<h2>
<a name="bugfix561FixL"></a>5.6.1 fix L bug fixes</h2>
<h3>
<a name="bug561FixL-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_18588"></a><strong>[18588]</strong> The [D3] Master configuration is not accessible in version 5.6.1 fix K. </p><p>The [D3] Master configuration is not accessible in version 5.6.1 fix K because of an <code>IllegalArgumentException</code>.</p></li><li><p><a name="bug_18589"></a><strong>[18589]</strong> The &#39;Rules portfolio&#39; add-on is not compatible with version 5.6.1 fix K. </p><p>The &#39;Rules portfolio&#39; add-on configuration is not accessible in version 5.6.1 fix K because of an <code>IllegalArgumentException</code>.</p></li><li><p><a name="bug_18590"></a><strong>[18590]</strong> The &#39;Oracle Hyperion EPM&#39; add-on is not compatible with version 5.6.1 fix K. </p><p>The &#39;Oracle Hyperion EPM&#39; add-on configuration is not accessible in version 5.6.1 fix K because of an <code>IllegalArgumentException</code>.</p></li><li><p><a name="bug_18592"></a><strong>[18592]</strong> The &#39;Information governance&#39; add-on is not compatible with version 5.6.1 fix K. </p><p>The &#39;Information governance&#39; add-on configuration is not accessible in version 5.6.1 fix K because of an <code>IllegalArgumentException</code>.</p></li><li><p><a name="bug_18594"></a><strong>[18594]</strong> The &#39;Activity monitoring&#39; add-on is not compatible with version 5.6.1 fix K. </p><p>The &#39;Activity monitoring&#39; add-on configuration is not accessible in version 5.6.1 fix K because of an <code>IllegalArgumentException</code>.</p></li></ul>
<h2>
<a name="bugfix561FixK"></a>5.6.1 fix K bug fixes</h2>
<h3>
<a name="bug561FixK-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_18118"></a><strong>[18118]</strong> The request retrieving history transactions has unnecessary sort criteria. </p><p>The request retrieving history transactions has unnecessary sort criteria: this may exhaust database resources when dealing with large volumes.</p></li><li><p><a name="bug_18254"></a><strong>[18254]</strong> An exception occurs when copying the validation report of a parent data space to its child upon data space creation. </p><p>It is possible to create a data set in the parent data space while the creation process is still running, it results in an exception while copying the validation report.</p></li><li><p><a name="bug_18511"></a><strong>[18511]</strong><code>AssociationLink.getAssociationResult</code> should be optimized. </p><p><code>AssociationLink.getAssociationResult(Adaptation)</code> should use optimizations on foreign key indexes when possible.</p></li><li><p><a name="bug_18525"></a><strong>[18525]</strong> The filters used internally in hierarchy and search filters should be optimized. </p><p>The filters used internally in hierarchy and search filters should be optimized to take advantage of the automatic index on a table reference field.</p></li></ul>
<h3>
<a name="bug561FixK-Datamodeling"></a>Data modeling</h3>
<ul>
<li><p><a name="bug_18253"></a><strong>[18253]</strong> Importing a data model clears the history and replication configuration. </p><p>When importing a data model in the &#39;Data Model Assistant&#39; in integration or in production mode, the history and replication configuration is cleared.</p></li><li><p><a name="bug_18332"></a><strong>[18332]</strong> Performance issues in the DMA due to unexpected validation. </p></li></ul>
<h3>
<a name="bug561FixK-Dataservices"></a>Data services</h3>
<ul>
<li><p><a name="bug_17994"></a><strong>[17994]</strong> Improve the JMS debug log. </p><p>It is not possible to retrieve JMS settings, even if the D3 or data services log level is set to <code>debug</code>.</p></li></ul>
<h3>
<a name="bug561FixK-DataspacesHistory"></a>Data spaces &amp; History</h3>
<ul>
<li><p><a name="bug_15865"></a><strong>[15865]</strong> Fatal error occurs when viewing history in the current data space and merged children. </p><p>This issue occurs after the user exports &#39;the updates with their whole content&#39; in the child data space and then imports with &#39;include updates&#39; in the parent data space. If these data spaces enable history, a fatal error occurs when viewing the history in the current data space and merged children.</p></li></ul>
<h3>
<a name="bug561FixK-Datavalidation"></a>Data validation</h3>
<ul>
<li><p><a name="bug_18123"></a><strong>[18123]</strong> A deadlock on validation threads may occur when updating several interdependent datasets at the same time. </p><p>A deadlock occurs during long validation processes when related datasets are interdependent.</p></li></ul>
<h3>
<a name="bug561FixK-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_17835"></a><strong>[17835]</strong> An error occurs when searching a field matching an invalid regular expression in advanced mode (re-fix). </p><p>In advanced search mode, an error occurs when searching a field matching an invalid regular expression: <code>.*\p{cntrl}.*</code> or <code>\p{cntrl}</code>.</p></li><li><p><a name="bug_18103"></a><strong>[18103]</strong> The label of a list of strings in a hierarchy has an inconsistent display. </p><p>The label of a list of strings in a hierarchy has an inconsistent display depending on whether it is a foreign key or not, and whether the foreign key defines a display pattern or not.</p></li></ul>
<h3>
<a name="bug561FixK-Dataworkflows"></a>Data workflows</h3>
<ul>
<li><p><a name="bug_15887"></a><strong>[15887]</strong> When records associated to sub workflows must be deleted by the clean service of the history table,an error occurs. </p><p>When records associated to sub workflows must be deleted by the clean service of the history table, the clean service fails.</p></li><li><p><a name="bug_17635"></a><strong>[17635]</strong> An error occurs while reallocating a work item to a user who is not the current authenticated user. </p><p>An <code>IllegalArgumentException</code> occurs while reallocating a work item to a user who is not the current authenticated user.</p></li><li><p><a name="bug_18257"></a><strong>[18257]</strong><code>ScriptTaskContext?.getPublishedProcessKey().getName()</code> returns null when called from a sub-workflow. </p></li></ul>
<h3>
<a name="bug561FixK-DistributedDataDelivery"></a>Distributed Data Delivery (D3)</h3>
<ul>
<li><p><a name="bug_18240"></a><strong>[18240]</strong> A long &#39;Federation replay delay&#39; stops the replay. </p><p>When the administrator defines in the D3 master configuration the &#39;Federation replay delay&#39; up to 10,737,418 seconds, the notification thread stops.</p></li></ul>
<h3>
<a name="bug561FixK-ImportExport"></a>Import / Export</h3>
<ul>
<li><p><a name="bug_18333"></a><strong>[18333]</strong> An error is raised when importing a CSV file with the inheritance mode enabled. </p></li></ul>
<h3>
<a name="bug561FixK-Messagesi18n"></a>Messages &amp; i18n</h3>
<ul>
<li><p><a name="bug_17888"></a><strong>[17888]</strong> UIServices localized confirmation messages are ignored. </p><p>UIServices localized confirmation messages are ignored if the locale is other than en-US or fr-FR.</p></li></ul>
<h3>
<a name="bug561FixK-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_17944"></a><strong>[17944]</strong> If a string field begins with carriage returns in a form, the first carriage return is deleted when submitting the form. </p></li><li><p><a name="bug_18093"></a><strong>[18093]</strong> The user is logged out when clicking several times on a service in a perspective. </p><p>In a perspective, when clicking on a service on the left pane several times, the user may be logged out if the service triggers Ajax requests.</p></li><li><p><a name="bug_18340"></a><strong>[18340]</strong> A <code>NullPointerException</code> is thrown when opening an associated record on a timed out session. </p></li><li><p><a name="bug_18376"></a><strong>[18376]</strong> Wrong HTML is generated when using a specific UI editor for an enumeration. </p><p>When using a specific editor for an enumeration field with HTML attributes, the generated html page contains a single double quote, which leads to a wrong display.</p></li><li><p><a name="bug_18425"></a><strong>[18425]</strong><code>getWebName</code> and <code>getWebNameForPath</code> return a wrong value. </p><p>In a specific editor, <code>UIContext.getWebName()</code> and <code>UIContext.getWebNameForPath()</code> do not return the component identifier generated in the HTML page.</p></li><li><p><a name="bug_18452"></a><strong>[18452]</strong> Impossible to activate a UI service on a table field. </p><p>It is impossible to activate a UI service on a table field with the <code>activatedForPaths</code> property.</p></li><li><p><a name="bug_18494"></a><strong>[18494]</strong> An error occurs when starting a UI service which is activated on a table field. </p><p>An error occurs when starting a UI service which is activated on a table field using the <code>activatedForPathRegexp</code> property.</p></li><li><p><a name="bug_18514"></a><strong>[18514]</strong> Confidential parameters are logged when an exception is thrown. </p><p>As an example, the password entered by the user may be logged in case of an &#39;unmasked kernel exception&#39; upon login submission.</p></li></ul>
<h2>
<a name="bugfix561FixJ"></a>5.6.1 fix J bug fixes</h2>
<h3>
<a name="bug561FixJ-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_17747"></a><strong>[17747]</strong> Replication should be optimized when adding a column. </p><p>When a new column &#39;with default value&#39; is added to a replicated table, the whole table is seen as modified.</p></li><li><p><a name="bug_17845"></a><strong>[17845]</strong> A cursor leak can happen when working with Oracle and UCP connection pool. </p></li></ul>
<h3>
<a name="bug561FixJ-Dataservices"></a>Data services</h3>
<ul>
<li><p><a name="bug_17912"></a><strong>[17912]</strong> Erroneous behavior when JMS is activated and <code>jms/EBX_QueueIn</code> is not configured. </p><p>For an inconsistent JMS configuration with the following conditions:</p><p>1. the JMS dataservices queue called <code>jms/EBX_QueueIn</code> is not configured and</p><p>2. the value of <code>ebx.jms.listeners.count</code> is &gt; 0 (3 by default).</p><p>the JMS listener thread does not start and leads to CPU overhead.</p></li></ul>
<h3>
<a name="bug561FixJ-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_17831"></a><strong>[17831]</strong> Dataspace unavailable while accessing hierarchy views. </p><p>When a workflow process creates and merges a child dataspace, an exception might occur with the following error message: &#39;Dataspace [name] inaccessible while accessing hierarchy views&#39;.</p></li><li><p><strong>[17835]</strong> An error occurs when searching a field matching an invalid regular expression in advanced mode. </p><p>In advanced search mode, an error occurs when searching a field matching an invalid regular expression: <code>.*\p{Cntrl}.*</code> or <code>\p{Cntrl}</code>.</p></li><li><p><a name="bug_17848"></a><strong>[17848]</strong> The search feature in a foreign key input does not display all matching results. </p><p>In a record form, when performing a search in a foreign key input, the displayed results are incomplete and the same records are displayed several times.</p></li></ul>
<h3>
<a name="bug561FixJ-Messagesi18n"></a>Messages &amp; i18n</h3>
<ul>
<li><p><a name="bug_17853"></a><strong>[17853]</strong> The <code>dataServicesMessages</code> localized message file is missing in the sample provided. </p><p>In the documentation &#39;Extending EBX5 internationalization&#39;, the <code>dataServicesMessages_xx.mxml</code> file is missing in the full template set of files provided.</p></li></ul>
<h3>
<a name="bug561FixJ-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_17778"></a><strong>[17778]</strong> The <code>trackingInfo</code> value when defined on an URL is not available in the session. </p><p>When defining an URL to access EBX5 with a <code>trackingInfo</code> parameter, the value set is not available when requesting the <code>trackingInfo</code> value in the user session.</p></li><li><p><a name="bug_17854"></a><strong>[17854]</strong> Erroneous paginated view if a sorted field is involved in a uniqueness constraint. </p><p>The paginated view does not work properly if a sorted field is involved in a uniqueness constraint. For example, clicking on the &#39;next page&#39; button can return an empty page while it should display rows.</p></li><li><p><a name="bug_17858"></a><strong>[17858]</strong> It is impossible to display carriage returns in text fields in EBX5 forms. </p></li><li><p><a name="bug_17914"></a><strong>[17914]</strong> The &#39;comment&#39; and &#39;accept&#39; buttons remain disabled when the user task service opens an Iframe which is not EBX5. </p></li></ul>
<h3>
<a name="bug561FixJ-UsersPermissions"></a>Users &amp; Permissions</h3>
<ul>
<li><p><a name="bug_17541"></a><strong>[17541]</strong> Unable to select dataspaces in the dataspace comparison screen. </p><p>If one of their parent dataspace is hidden to a user, child dataspaces cannot be selected in the dataspace comparison screen.</p></li></ul>
<h2>
<a name="bugfix561FixI"></a>5.6.1 fix I bug fixes</h2>
<h3>
<a name="bug561FixI-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_17377"></a><strong>[17377]</strong> The method <code>DirectoryDefault.getRoleDescription</code> returns the label instead of the description. </p></li><li><p><a name="bug_17476"></a><strong>[17476]</strong> D3 broadcast fails if there is an aggregated list in a replicated table. </p><p>After deleting and recreating the delivery data space, D3 broadcast fails if there is an aggregated list in a replicated table.</p><p>This is a consequence of #17488.</p></li><li><p><a name="bug_17488"></a><strong>[17488]</strong> Auxiliary tables are not properly emptied for replication. </p><p>When a replica table is cleaned of its entries, its auxiliary tables (used for storing the values of aggregated lists) are not emptied accordingly. This scenario occurs upon branch or instance deletion.</p></li><li><p><a name="bug_17569"></a><strong>[17569]</strong> The format for date default values is incorrect on PostgreSQL. </p><p>On PostgreSQL, for a mapped table having existing records: a format error occurs when adding a new column of the date type when defining a default value.</p></li></ul>
<h3>
<a name="bug561FixI-Datamodeling"></a>Data modeling</h3>
<ul>
<li><p><a name="bug_17203"></a><strong>[17203]</strong> Impossibility to add table indexes and specific filters to complex data types. </p><p>The user cannot add occurrences to indexes nor specific filters to table properties defined on complex types.</p></li><li><p><a name="bug_17693"></a><strong>[17693]</strong> Inherited properties from reusable types are not displayed properly in read-only mode. </p><p>Undefined properties of fields or groups, that do not use a reusable data type, are not properly displayed in read-only mode. In this case, a link may be displayed and redirects to a type that cannot be accessed.</p></li></ul>
<h3>
<a name="bug561FixI-Datavalidation"></a>Data validation</h3>
<ul>
<li><p><a name="bug_17666"></a><strong>[17666]</strong> Validation messages added to a record by a constraint with no dependencies are not removed when the record is deleted. </p><p>When a record is deleted, its validation messages are not directly removed from the validation report. This occurs when the messages have been added by a constraint that does not define dependencies. The dataset or the container table have to be explicitly validated to remove these validation messages.</p></li></ul>
<h3>
<a name="bug561FixI-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_16610"></a><strong>[16610]</strong> Disabled column in database mapping disappears after renaming. </p><p>This issue occurs when the user changes the refresh policy of a replicated table and then renames a column which is in &#39;DISABLE_IN_MODEL&#39; state. After the user renames this column, the column disappears.</p></li></ul>
<h3>
<a name="bug561FixI-Dataworkflows"></a>Data workflows</h3>
<ul>
<li><p><a name="bug_17616"></a><strong>[17616]</strong> En error occurs while building the history graph view of a workflow. </p><p>An <code>IllegalArgumentException</code> is thrown while displaying the graph view of a workflow if a work item does not have any profile attached.</p></li></ul>
<h3>
<a name="bug561FixI-DistributedDataDelivery"></a>Distributed Data Delivery (D3)</h3>
<ul>
<li><p><a name="bug_17649"></a><strong>[17649]</strong> Federation manager aborts on undefined broadcast context. </p><p>In certain scheduling conditions, a broadcast in federation mode can abort with <code>NullPointerException</code>.</p></li><li><p><a name="bug_17665"></a><strong>[17665]</strong> Several errors occur on the federation broadcast on slave node. </p><p>When a slave node receives two archives at the same time, due to the concurrent broadcast transaction, a succession of errors occurs.</p></li><li><p><a name="bug_17749"></a><strong>[17749]</strong> Registered slave status is not updated upon federation replay. </p><p>The status &#39;Out of service&#39; is never updated to &#39;Available&#39; even if a federation replay has been successful.</p></li></ul>
<h3>
<a name="bug561FixI-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_17458"></a><strong>[17458]</strong> EBX5 keeps trying to reload resources. </p><p>Even with options templates.checksIfUpdated=false in ebx.properties, the log displays messages like: </p><p><code>2015-08-20 14:12:24,070 CEST INFO log.setup 0985:0012 [http-bio-8080-exec-1] Reloading [ebx-manager/WEB-INF/ebx/common/templates/jscripts/ebx_constants.js] when looking for locale [ en_US ]</code>.</p></li><li><p><a name="bug_17516"></a><strong>[17516]</strong> There is no word wrap in text area fields when using IE11 browser. </p></li></ul>
<h2>
<a name="bugfix561FixH"></a>5.6.1 fix H bug fixes</h2>
<h3>
<a name="bug561FixH-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_17380"></a><strong>[17380]</strong> On SOAP request using JMS, <code>authenticateUserFromHttpRequest</code> is called with a null request. </p><p>When receiving a SOAP request using JMS, <code>authenticateUserFromHttpRequest</code> is called with a null <code>HttpServletRequest</code>.</p></li></ul>
<h3>
<a name="bug561FixH-Dataservices"></a>Data services</h3>
<ul>
<li><p><a name="bug_17407"></a><strong>[17407]</strong> The ampersand character is not properly encoded in the SOAP response. </p><p>The attribute for the <code>predicate</code> key located in the SOAP response for the <code>getChanges</code> operation on the table is not encoded according to the XML specification. Therefore the <code>&amp;</code> value is not escaped by <code>&amp;amp;</code>.</p></li></ul>
<h3>
<a name="bug561FixH-DistributedDataDelivery"></a>Distributed Data Delivery (D3)</h3>
<ul>
<li><p><a name="bug_17393"></a><strong>[17393]</strong> If there is a new data set with a replication unit enabled in the delivery data space, the D3 broadcast fails. </p></li></ul>
<h2>
<a name="bugfix561FixG"></a>5.6.1 fix G bug fixes</h2>
<h3>
<a name="bug561FixG-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_17298"></a><strong>[17298]</strong> Options allowing to sort the fields or to fix columns in an association do not work. </p></li><li><p><a name="bug_17323"></a><strong>[17323]</strong> The user is logged out when using a service in a perspective. </p><p>If the user quickly clicks twice on a service in a perspective menu, the session expires when doing an action on the service page.</p></li><li><p><a name="bug_17326"></a><strong>[17326]</strong> An error occurs while accessing a table view in a perspective through a foreign key selector. </p></li></ul>
<h2>
<a name="bugfix561FixF"></a>5.6.1 fix F bug fixes</h2>
<h3>
<a name="bug561FixF-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_17297"></a><strong>[17297]</strong> Purging a column in the Database Mapping Administration leads to an error message. </p><p>In the Database Mapping Administration, an error message is displayed after purging a column if the service has been launched from the record form.</p></li></ul>
<h3>
<a name="bug561FixF-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_17225"></a><strong>[17225]</strong> Duplicate nodes are displayed in the hierarchy dimension configuration tree. </p><p>If the hierarchy dependency link uses an association table on another data set than the target table and if this other data set is active on many data spaces, there will be as many duplicate dimension nodes in the dimension tree as the number of data spaces.</p></li><li><p><a name="bug_17252"></a><strong>[17252]</strong> Deleting a hierarchy node under a root node can generate an error. </p><p>If the dependency link is a join table, deleting a hierarchy node under a root node may generate a <code>NullPointerException</code>.</p></li></ul>
<h3>
<a name="bug561FixF-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_17211"></a><strong>[17211]</strong> If an error occurs upon form submission, form values are reset. </p><p>When an <code>OperationException</code> is thrown in a table trigger upon form submission, the fields are reset with values from the cache.</p></li><li><p><a name="bug_17246"></a><strong>[17246]</strong> Impossibility to create a new UI perspective since 5.6.1 fix D. </p><p>An error occurs when displaying the perspective creation form.</p></li></ul>
<h2>
<a name="bugfix561FixE"></a>5.6.1 fix E bug fixes</h2>
<h3>
<a name="bug561FixE-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_17133"></a><strong>[17133]</strong> Since 5.6.1, it is no longer possible to force a record duplication when some fields are not writable to a user. </p><p>As a consequence of fixing bug <a href="#bug_13813">#13813</a>, an important change of behavior was introduced in version 5.6.1: it is no longer possible to force a record duplication when a user has read-only or hidden fields, even by using triggers.</p><p>See <a href="#duplicatingRecords">Duplicating records with unmodifiable fields</a> for more information.</p></li><li><p><a name="bug_17170"></a><strong>[17170]</strong> Database mapping administration fails with SQL Server database. </p><p>When accessing the database mapping administration, a blank page is displayed instead of the expected content.</p></li></ul>
<h3>
<a name="bug561FixE-Dataworkflows"></a>Data workflows</h3>
<ul>
<li><p><a name="bug_12414"></a><strong>[12414]</strong> Deleting the link of a step with a condition may corrupt a workflow. </p></li></ul>
<h3>
<a name="bug561FixE-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_16620"></a><strong>[16620]</strong> HTML character codes should not be interpreted in hierarchy views. </p><p>Some character sequences are interpreted as a HTML character code when displayed in hierarchy views.</p></li></ul>
<h2>
<a name="bugfix561FixD"></a>5.6.1 fix D bug fixes</h2>
<h3>
<a name="bug561FixD-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_16470"></a><strong>[16470]</strong> When importing an archive, the replication state is inconsistent for a previously non-existing instance. </p><p>When importing an archive, replication is skipped for tables of an instance which has been created by the import.</p></li><li><p><a name="bug_16588"></a><strong>[16588]</strong> Unexpected schema compilation error while accessing the history of a table. </p></li><li><p><a name="bug_16716"></a><strong>[16716]</strong> An exception can occur when refreshing data models due to the unloading of the Java cache. </p><p>An exception can occur when refreshing data models if some dataspaces have been unloaded.</p></li><li><p><a name="bug_16851"></a><strong>[16851]</strong> Error when compiling a replicated and historized table having several aggregated lists, one of which is disabled. </p><p>The error occurs for a replicated table which is also historized or relational, and includes several aggregated lists.</p><p>If one list is disabled for replication, an error happens at schema compilation: &quot;Unset table name for node: /root/table[*]/list.&quot;</p></li><li><p><a name="bug_17033"></a><strong>[17033]</strong> A fatal error occurs in data set when disabling replication property on a table after renaming a multi-valued column. </p><p>When the user disables the replication property of a table after renaming a multi-valued column, a fatal error occurs when publishing the associated data set.</p></li></ul>
<h3>
<a name="bug561FixD-Dataservices"></a>Data services</h3>
<ul>
<li><p><a name="bug_16983"></a><strong>[16983]</strong> An error occurs when downloading the WSDL for operations on tables containing an association. </p></li></ul>
<h3>
<a name="bug561FixD-Datavalidation"></a>Data validation</h3>
<ul>
<li><p><a name="bug_15973"></a><strong>[15973]</strong> Record constraints should not prevent Ajax prevalidation from synchronizing input values. </p><p>When the record is in error due to a constraint on the table, input values are not dynamically synchronized with Ajax prevalidation.</p></li></ul>
<h3>
<a name="bug561FixD-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_16575"></a><strong>[16575]</strong> A publication is updated with evolutions of other publications of the same data model when a mapped column is renamed. </p><p>Evolutions on a given publication of a data model also apply to other publications of the data model if a column of a mapped table has been renamed.</p></li><li><p><a name="bug_16672"></a><strong>[16672]</strong> Error display to be improved when renaming a column using an invalid name. </p><p>When renaming a column in the database mapping view, the UI checks whether the specified new name is valid, and an appropriate message is displayed.</p><p>Some cases are still not checked at the UI level, which causes a basic error display.</p></li><li><p><a name="bug_16699"></a><strong>[16699]</strong> An unexpected error occurs when renaming a column of a historized table. </p><p>When renaming a column of a historized table, if the operation code built from the new name is a reserved word for the DBMS, an unexpected error occurs.</p></li><li><p><a name="bug_16708"></a><strong>[16708]</strong> In Database mapping, services to move nodes in hierarchy views on &#39;Tables&#39; table should be hidden. </p><p>On the hierarchy view of the &#39;Tables&#39; table, running services such as &#39;Attach to another parent&#39; or &#39;Attach this node&#39; on a node causes an unexpected error. These services should be hidden.</p></li><li><p><a name="bug_17039"></a><strong>[17039]</strong> An error message is displayed when renaming a column after changing its data type. </p><p>This issue occurs when the user changes the type of a field on which both history and replication are enabled. An error message is displayed when renaming this column in database mapping.</p></li></ul>
<h3>
<a name="bug561FixD-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_16272"></a><strong>[16272]</strong> An error occurs when the label of <code>UITableFilter</code> is undefined. </p><p>Checks are performed for each <code>setLabel</code>(...) method. But the initial value of the label is null.</p><p>So when an <code>UITableFilter</code> with no label specified is displayed, it throws a <code>NullPointerException</code>.</p></li><li><p><a name="bug_16823"></a><strong>[16823]</strong> An <code>IllegalArgumentException</code> is thrown by <code>DirectoryHandler.displayUserWithSalutation</code>. </p><p>This error occurs when a user has been deleted from the <code>Directory</code> but is referred to by some objects. For example, when publishing a data model which has been previously published by a deleted user.</p></li><li><p><a name="bug_16850"></a><strong>[16850]</strong> Incorrect display of a special HTML character. </p><p>When displaying a value that contains the special &#39;&amp;&#39; HTML character in tabular view, the corresponding HTML escape code is shown instead. This behaviour appears only in Internet Explorer 8 browser.</p></li></ul>
<h2>
<a name="bugfix561FixC"></a>5.6.1 fix C bug fixes</h2>
<h3>
<a name="bug561FixC-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_16687"></a><strong>[16687]</strong> Inconsistent soft/strong reference mode of add-on &#39;Administration&#39; data spaces. </p><p>With <code>ebx.validation.report.keepInMemory=false</code> in <code>ebx.properties</code>, initialization of administrative data spaces of add-on modules may fail with error: &#39;Inconsistent soft/strong reference of branch &#39;ebx-addon-xxxx&#39;&#39;.</p></li></ul>
<h3>
<a name="bug561FixC-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_16674"></a><strong>[16674]</strong> After accessing a record from a table and closing the form, only the previously selected record is displayed in the view. </p><p>After accessing a record from a tabular view in a table and then closing the form, only the previously selected record is displayed in the view.</p></li></ul>
<h2>
<a name="bugfix561FixB"></a>5.6.1 fix B bug fixes</h2>
<h3>
<a name="bug561FixB-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_15822"></a><strong>[15822]</strong> Child data set record deletions are not saved after a data space merge under certain conditions. </p><p>It occurs if a record has been created in the child data space, and deleted by occultation in a child dataset. The deletion is not merged.</p></li><li><p><a name="bug_15856"></a><strong>[15856]</strong> An error occurs while trying to build an error message. </p><p>An <code>ArrayIndexOutOfBoundsException</code> is raised when building an error message on historization failure.</p></li><li><p><a name="bug_16157"></a><strong>[16157]</strong> Impossibility to extend the data type of a primary key on the SQL Server. </p><p>The &#39;<code>ALTER COLUMN</code>&#39; statement to modify a primary key column on a SQL server must include the &#39;<code>NOT NULL</code>&#39; definition.</p></li><li><p><a name="bug_16190"></a><strong>[16190]</strong> An error occurs while exporting an archive of a data space created in the previous major release. </p><p>If the &#39;export archive&#39; API is used, an error is raised if the data space to be exported was created in version 4. The error is <code>UnavailableContentError</code>, with the following message: &quot;Content [ebxmanager-1.0] in [Data space ...] is not available&quot;.</p></li><li><p><a name="bug_16490"></a><strong>[16490]</strong> An error occurs when re-activating a complex list that has been modified. </p><p>An error occurs on the data model evolution when re-activating a complex list for mapped features (history/relational mode/replication), if its structure has been modified since it was last activated.</p></li><li><p><a name="bug_16548"></a><strong>[16548]</strong> EBX5 start may fail upon a large repository. </p><p>EBX5 start may be stopped by the application server if the repository is large and the RDBMS cannot calculate the size of the persistent tables via the &#39;select count(*)&#39; in a reasonable amount of time. The application server detects a hung thread.</p></li><li><p><a name="bug_16644"></a><strong>[16644]</strong> When the method <code>displayUserWithsalutations</code> in a custom directory is erroneous, an error occurs. </p><p>When the method <code>displayUserWithsalutations</code> in a custom directory is erroneous, an error occurs and the user interface becomes unavailable.</p></li></ul>
<h3>
<a name="bug561FixB-Datamodeling"></a>Data modeling</h3>
<ul>
<li><p><a name="bug_15955"></a><strong>[15955]</strong> A default value made only of space characters is not saved in the schema generated for the data model. </p></li><li><p><a name="bug_16579"></a><strong>[16579]</strong> An unexpected error occurs on uniqueness constraints while duplicating a table in the data modeler. </p></li></ul>
<h3>
<a name="bug561FixB-Dataservices"></a>Data services</h3>
<ul>
<li><p><a name="bug_16327"></a><strong>[16327]</strong> Label and description of custom web services are not available in WSDL. </p><p>When the user generates an add-on custom WSDL, if the label and description are defined, they appear as two empty XML comments.</p></li><li><p><a name="bug_16507"></a><strong>[16507]</strong> UTF-8 encoded characters in a SOAP XML response cannot be read properly. </p><p>With some parsers it is necessary to have a charset defined in the HTTP response header, even if the encoding is defined in the xml processing instruction.</p></li><li><p><a name="bug_16635"></a><strong>[16635]</strong> When a count operation is executed on a relational model, the database connection is not released. </p></li></ul>
<h3>
<a name="bug561FixB-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_16015"></a><strong>[16015]</strong> File is not released if an error occurs during import. </p><p>If an error occurs during an import, the file is not released. The import process should close the file input stream after terminating for any reason.</p></li><li><p><a name="bug_16377"></a><strong>[16377]</strong> The XPath predicate is ignored when using a permalink. </p><p>When calling EBX5 with a permalink without authentication credentials, the predicate specified in the XPath is ignored.</p></li><li><p><a name="bug_16481"></a><strong>[16481]</strong> A fatal error occurs when disabling history on a replicated table. </p><p>This issue occurs on a table enabling both replication and history and containing an aggregated list. If the user disables history and republishes the model, a fatal error occurs.</p></li><li><p><a name="bug_16492"></a><strong>[16492]</strong> An error occurs when activating replication for a schema declaring a nested list. </p><p>An error occurs when activating replication for a schema declaring a nested list. Such fields should be ignored by replication features.</p></li><li><p><a name="bug_16498"></a><strong>[16498]</strong> An error occurs when re-activating a complex list for replication. </p><p>When a complex list is disabled from replication (via the <code>osd:replication</code> tag), then re-enabled, an SQL exception occurs.</p></li></ul>
<h3>
<a name="bug561FixB-Dataworkflows"></a>Data workflows</h3>
<ul>
<li><p><a name="bug_16108"></a><strong>[16108]</strong> An error occurs when handling the subworkflow completion. </p><p>When completing a sub-workflow, an error is raised and the following message is displayed: &#39;Failed to handle sub-workflow completion. Please contact your administrator.&#39;</p><p>This bug occurs only for one sub-workflow invocation which contains one script.</p><p>The workflow log contains a <code>NullPointerException</code> stack trace.</p></li></ul>
<h3>
<a name="bug561FixB-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_16220"></a><strong>[16220]</strong> Workflow tables are always tagged as &#39;filtered&#39;. </p></li><li><p><a name="bug_16378"></a><strong>[16378]</strong> Some HTTP threads can be stuck. </p><p>In some circumstances, HTTP threads may be stuck (complement of bug fix 15662 in release 5.6.1).</p></li><li><p><a name="bug_16616"></a><strong>[16616]</strong> An error occurs after deleting a group from the parent perspective. </p><p>A <code>NullPointerException</code> is raised while displaying the perspective menu configuration after a group has been deleted from the parent perspective.</p></li></ul>
<h2>
<a name="bugfix561FixA"></a>5.6.1 fix A bug fixes</h2>
<h3>
<a name="bug561FixA-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_16064"></a><strong>[16064]</strong> Scheduled tasks may not be executed in the expected order. </p><p>If a previous task prevents the launch of the following tasks, they will not be executed according to the planned order.</p></li><li><p><a name="bug_16084"></a><strong>[16084]</strong> An error occurs publishing a data model when the replication of a dataset fails. </p><p>An NullPointerException occurs after publishing a data model if the replication of one of its datasets fails.</p></li></ul>
<h3>
<a name="bug561FixA-Datamodeling"></a>Data modeling</h3>
<ul>
<li><p><a name="bug_15852"></a><strong>[15852]</strong> Blank pop-up displayed when adding an HTML criterion in a validation/computation rule. </p><p>When a user adds an HTML criterion to a validation or computation rule, a blank pop-up is displayed.</p></li><li><p><a name="bug_16113"></a><strong>[16113]</strong> A compilation error is erroneously added to data models that define a link to another data space. </p><p>A compilation error can be erroneously added to a data model that defines a link to a data set in another data space. This occurs when the target data set defines a link to another data set in the same data space.</p></li></ul>
<h3>
<a name="bug561FixA-Datavalidation"></a>Data validation</h3>
<ul>
<li><p><a name="bug_15996"></a><strong>[15996]</strong> An error occurs during the incremental validation when the schema of the data set has errors. </p><p>A NullPointerException is raised during the incremental validation when the schema of the data set has errors.</p></li><li><p><a name="bug_16071"></a><strong>[16071]</strong> OutOfMemoryException when deleting a record in a target table of an inter data space FK. </p><p>When a record is deleted in a target table of a foreign key in another data space, the validation will check if this record had previously been selected in the FK in other data spaces.</p><p>With many data spaces and high volumetry, the performances of the application will decrease and the memory print will grow because of the index loading in the cache.</p><p>It may lead to an out of memory error.</p></li></ul>
<h3>
<a name="bug561FixA-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_15891"></a><strong>[15891]</strong> Inconsistency of field icon display in the &#39;Apply last modification&#39; screen. </p><p>In the &#39;Apply last modification&#39; screen, field icons are displayed while in other scopes they are not.</p></li><li><p><a name="bug_15895"></a><strong>[15895]</strong> An error occurs when switching to another view when the default view is set as the recommended view. </p></li><li><p><a name="bug_15988"></a><strong>[15988]</strong> An error occurs on a predicate using a field of the URI type. </p><p>A <code>ClassCastException</code> is thrown if a predicate has been set on a <code>URI</code> field.</p></li></ul>
<h2>
<a name="bugfix"></a>Bug fixes</h2>
<h3>
<a name="bug-Coreengine"></a>Core engine</h3>
<ul>
<li><p><a name="bug_11349"></a><strong>[11349]</strong> A warning message is displayed after a merge if the user is not the Administrator nor the owner of the merged data space. </p><p>The following message is displayed: Unable to lock/unlock the data space [xxxxx]. You do not have sufficient rights.&quot; However, this has no impact on the merge result.</p></li><li><p><a name="bug_14356"></a><strong>[14356]</strong> String length constraints evolutions in mapped tables are not properly reflected in database tables. </p><p>In a mapped table, if a *fixed* length constraint is replaced by a longer *max* length constraint, it is not possible to enter a string exceeding the former fixed length.</p></li><li><p><a name="bug_14412"></a><strong>[14412]</strong> A hierarchy called through a web component with a filter or a predicate is not pruned. </p><p>In previous version, a hierarchy called through a web component was automatically pruned if a filter or a predicate was applied. It is no longer the case in 5.6.0.</p></li><li><p><a name="bug_14473"></a><strong>[14473]</strong> The record creation time is not accurate. </p><p>If a record has been created in a merged child data space, the record creation time corresponds to the time of the merge with the parent branch.</p></li><li><p><a name="bug_14536"></a><strong>[14536]</strong> RequestResult.isEmpty() fetches more records than necessary in the presence of sort criteria. </p><p>If a Request defines sort criteria that are not compliant with the elected index, then invoking methods RequestResult.isEmpty(), RequestResult.isSizeGreaterOrEqual() or RequestResult.isSizeEqual() retrieves the whole table, then sorts it.</p><p>This performance hit should be avoided, since we are only interested in estimating the size of the result.</p></li><li><p><a name="bug_14795"></a><strong>[14795]</strong> The add-on licenses are not considered as valid after an archive import. </p><p>When the user feeds the add-on registration table by an archive import, the add-on licenses are not considered as valid in the add-on activation check.</p></li><li><p><a name="bug_14809"></a><strong>[14809]</strong> A method returns an incorrect value when running a service from &#39;Perspectives&#39;. </p><p>The method <code>getUrlForEndingService</code> returns an incorrect value when running ServiceContext().getURLForEndingService() from &#39;Perspectives&#39;.</p></li><li><p><a name="bug_14824"></a><strong>[14824]</strong> Child data set are not saved after a data space merge under certain conditions. </p><p>When a data space is merged, some overwritten fields of the child data set are not merged, even if the record is marked as overwritten.</p><p>The problem occurs:</p><p>- on fields that belong to groups,</p><p>- when the child data set is identical to its parent before the child data space creation,</p><p>- when &#39;Access Properties&#39; for groups are not set to &#39;Read &amp; Write&#39;</p></li><li><p><a name="bug_14831"></a><strong>[14831]</strong> When an error appears while loading data from the RDBMS, it may be masked by another technical error. </p><p>As an example, a <code>NullpointerException</code> thrown when executing the method <code>LabelDescriptionForLocale.toString</code> masks the original exception.</p></li><li><p><a name="bug_14896"></a><strong>[14896]</strong> An error occurs when requesting data from a relational table when the &#39;last user&#39; metadata is null. </p></li><li><p><a name="bug_14961"></a><strong>[14961]</strong> An error occurs when requesting data from a history table when the user is null. </p></li><li><p><a name="bug_15065"></a><strong>[15065]</strong> Programmatic permission rules are not enforced for requests using a primary key filter. </p><p>In some cases of inner optimization, a request will retrieve records that should have been filtered out by the programmatic permission rule.</p></li><li><p><a name="bug_15338"></a><strong>[15338]</strong> Impossibility to compare a snapshot created on EBX4 with a data space created on EBX5. </p><p>An error occurs when comparing a snapshot created on EBX4 with a data space created on EBX5.</p></li><li><p><a name="bug_15473"></a><strong>[15473]</strong> Error due to an undetected name conflict when changing an element type for a mapped table. </p><p>On historized and relational tables, on some schema evolutions involving multi-valued elements, an error occurs due to a name conflict that is not detected.</p></li><li><p><a name="bug_15475"></a><strong>[15475]</strong> It is possible to create data sets in THE administration tabs using archive imports in the perspective administration actions. </p></li><li><p><a name="bug_15587"></a><strong>[15587]</strong> Default file name may be incorrect when exporting a table. </p><p>If the table label contains /\\:*?\&quot;&lt;&gt;|, the suggested default file name is not valid for a Windows platform.</p></li><li><p><a name="bug_15601"></a><strong>[15601]</strong> At data space creation, the Java cache is fed using Java strong references. </p><p>At data space creation, the Java cache is fed using strong references even if the policy is defined to use soft references. As a consequence, the creation of data spaces can lead to a memory overflow.</p></li><li><p><a name="bug_15620"></a><strong>[15620]</strong> Auto-increments table is not always updated. </p><p>The auto-increments table is not updated if the &#39;disableMaxTableCheck&#39; is activated and if an <code>OperationException</code> is thrown in the <code>handleAfterCreate</code> method of a trigger.</p></li><li><p><a name="bug_15904"></a><strong>[15904]</strong> EBX5 logs always report an add-on module as activated even it has been deactivated. </p></li><li><p><a name="bug_15920"></a><strong>[15920]</strong> The method <code>ProcedureResult.getExceptionFullMessage()</code> may cause a <code>NullPointerException</code>. </p><p><code>ProcedureResult.getExceptionFullMessage()</code> may cause a <code>NullPointerException</code>.</p></li></ul>
<h3>
<a name="bug-Datamodeling"></a>Data modeling</h3>
<ul>
<li><p><a name="bug_8222"></a><strong>[8222]</strong> In the DMA, alignment problem in the &#39;Value&#39; tab of &#39;Excluded segment&#39; occurs after an error. </p><p>Under the advanced controls of a field, the label of &#39;Minimum excluded value&#39;/ &#39;Maximum excluded value&#39; and their values are not horizontally aligned after an error occurs due to inputting a minimum value that is greater than the maximum value.</p></li><li><p><a name="bug_10481"></a><strong>[10481]</strong> The user interface has an alignment problem when the user creates a data set after publishing the data model. </p><p>When the user publishes a data model, the fields&#39; labels are not vertically aligned in the &#39;create new data set&#39; screen.</p></li><li><p><a name="bug_11413"></a><strong>[11413]</strong> The user interface has an alignment problem when the user creates a record in &#39;Included data models&#39;. </p><p>In &#39;Included data models&#39;, after clicking to create a record with the &#39;Packaged in module&#39; mode without specifying any value, the &#39;Module name&#39; and &#39;Path in module&#39; labels and their values are not horizontally aligned.</p></li><li><p><a name="bug_14144"></a><strong>[14144]</strong> Cannot define a second group field as a primary key in a table containing two groups using the same complex data type. </p><p>In a table contains two group which reuses the same complex data type, when defining field of the second group as primary key, an error message states that this field does not exist.</p></li><li><p><a name="bug_14170"></a><strong>[14170]</strong> An error message is displayed when a user creates a data set from an existing data set containing a fatal error. </p><p>When the user copies data from an existing data set which contains a fatal error, an error message is displayed.</p></li><li><p><a name="bug_14323"></a><strong>[14323]</strong> In the &#39;Data Model Assistant&#39; it is possible to define the XPath and the programmatic filter on a foreign key. </p><p>It is possible to define the XPath and the programmatic filter on a foreign key.</p></li><li><p><a name="bug_14439"></a><strong>[14439]</strong> A blank pop-up is displayed when adding a formula with &#39;String&#39; functions in a computation rule. </p><p>When adding a formula with &#39;String&#39; functions (starts-with(string, string) and contains(string, string)) in a computation rule, an error occurs and a blank pop-up is displayed.</p></li><li><p><a name="bug_14646"></a><strong>[14646]</strong> Inconsistent display of the &#39;not defined&#39; value in the &#39;Publication&#39; and &#39;Data set&#39; fields when publishing a data model. </p><p>In the &#39;Publication&#39; and &#39;Data set&#39; fields under &#39;Copy data from an existing data set&#39;, the [not defined] value is displayed in a regular font. It should be displayed in italic font.</p></li><li><p><a name="bug_14675"></a><strong>[14675]</strong> &#39;Default view&#39; label in a simple data type should be hidden. </p><p>In a simple data type which sets association properties, the &#39;Default view&#39; label should be hidden since the user cannot define this property on a simple data type.</p></li><li><p><a name="bug_14690"></a><strong>[14690]</strong> Unexpected error when publishing a data model containing associations using simple data type that defines an XPath constraint. </p><p>This issue occurs in a data model containing at least two associations using the same simple data type that defines an XPath constraint. An unexpected error is displayed when the user publishes the model.</p></li><li><p><a name="bug_14777"></a><strong>[14777]</strong> It is not possible to specify a conversion error message on a simple type definition. </p><p>The conversion error messages defined on a simple type definition are ignored when they are set in an XML Schema document.</p><p>It is also impossible to specify conversion error messages in the DMA.</p></li><li><p><a name="bug_14905"></a><strong>[14905]</strong> Unable to set a uniqueness constraint in the DMA in a table containing two groups using the same complex data type. </p><p>When declaring a uniqueness constraint on a field, the DMA rejects the constraint with the following message: &quot;Advanced properties / Uniqueness constraints[1] / Unique fields[1]: Field &#39;&lt;pathToField&gt;&#39; does not exist in the table structure&quot;.</p><p>The problem occurs :</p><p>- when the table structure contains 2 groups reusing the same complex type,</p><p>- when the constraint is required on a field that belongs to the second group.</p></li><li><p><a name="bug_15057"></a><strong>[15057]</strong> An <code>AjaxComponent</code> declared by an included schema cannot be retrieved. </p></li><li><p><a name="bug_15058"></a><strong>[15058]</strong> An <code>AjaxComponent</code> declared by an imported schema cannot be retrieved. </p></li><li><p><a name="bug_15131"></a><strong>[15131]</strong> An error occurs when creating a record in a table that is referenced by a foreign key with a filter. </p><p>An error occurs when creating a record in a table that is referenced by a foreign key with a filter. This error occurs during the incremental validation of the record that has been created.</p></li><li><p><a name="bug_15252"></a><strong>[15252]</strong> Parameters of filters on a table are not imported in the DMA when importing an existing data model. </p><p>JavaBean parameters defined by filters on the table are not imported in the DMA when importing an existing XML Schema document.</p></li></ul>
<h3>
<a name="bug-DataspacesHistory"></a>Data spaces &amp; History</h3>
<ul>
<li><p><a name="bug_12659"></a><strong>[12659]</strong> Confirmation screen incorrectly displayed when closing a locked data space. </p><p>This issue occurs when a user closes a locked data space. A confirmation screen indicates that the data space has been closed, even though an error message &quot;Data space could not be closed&quot; is displayed.</p></li><li><p><a name="bug_13581"></a><strong>[13581]</strong> An alignment problem occurs on the data space archive export page when the data space does not contain any data set. </p><p>This issue occurs when there is no data set in the data space.</p><p>On the data space archive export page, the &#39;No data set has been found&#39; error message is not vertically aligned with the user interface text.</p></li><li><p><a name="bug_13739"></a><strong>[13739]</strong> A fatal error occurs when the user exports a data space containing a fatal error. </p><p>When the user exports a child data space using one of the following modes:</p><p>&quot;The updates with their whole content&quot; or</p><p>&quot;The updates only&quot;, if the data space contains a data set with a fatal error, a fatal error occurs.</p></li></ul>
<h3>
<a name="bug-Datavalidation"></a>Data validation</h3>
<ul>
<li><p><a name="bug_13684"></a><strong>[13684]</strong> Uniqueness constraint on multiple fields does not raise error if some fields are null. </p><p>Uniqueness constraint on multiple fields does not raise error if a subset of the fields are equal and the remaining fields are null.</p></li><li><p><a name="bug_14214"></a><strong>[14214]</strong> The validation messages are not displayed next to the fields in a list of groups. </p></li><li><p><a name="bug_15046"></a><strong>[15046]</strong> Structural constraints are not checked at the data set validation when strictness has been modified. </p><p>Structural constraints on mapped tables are not checked when validating explicitly a data set. This can cause an issue if a structural constraint is replaced by a stricter one. In this case, existing values that do not comply with the new constraint are not in error when validating the data set.</p></li><li><p><a name="bug_15160"></a><strong>[15160]</strong> An error occurs on global validation while executing a TableRefFilter constraint. </p><p>On global validation, an error occurs while retrieving the value of the foreign key in the record being validated.</p></li><li><p><a name="bug_15179"></a><strong>[15179]</strong> At EBX5 startup, an error occurs when a data set has a foreign key to a data set that is in severe error. </p><p>This issue occurs when a data set has a foreign key that refers to another data set that is in severe error only in some data spaces in the repository.</p></li></ul>
<h3>
<a name="bug-Dataviews"></a>Data views</h3>
<ul>
<li><p><a name="bug_8094"></a><strong>[8094]</strong> Incorrect record order after moving a record to another position in the hierarchy view. </p><p>In the hierarchy view, when the user tries to move a record to a different position, the order of nodes is incorrect.</p></li><li><p><a name="bug_9923"></a><strong>[9923]</strong> When the user creates a record in a form containing complex groups, collapsed display does not behave properly. </p><p>When the user creates a record in a form containing a very complex group, the collapsed display does not behave correctly.</p></li><li><p><a name="bug_10201"></a><strong>[10201]</strong> Missing documentation pane for the &#39;Display of labels&#39; field when the user exports a hierarchy node. </p><p>On the &#39;Export CSV&#39; screen of a hierarchy node, the &#39;Display of labels&#39; label is not fully displayed. Furthermore, there is no documentation pane when the user clicks to see the full content of this field.</p></li><li><p><a name="bug_10529"></a><strong>[10529]</strong> The user interface has an alignment problem when the user exports a hierarchy node. </p><p>When the user exports a CSV page of a hierarchy node, the &#39;Display of labels&#39; field is not vertically aligned.</p></li><li><p><a name="bug_10552"></a><strong>[10552]</strong> The user interface has an alignment problem on the &#39;Policy&#39; page in the &#39;Administration&#39; area. </p><p>In the &#39;Administration&#39; area, on the &#39;Policy&#39; page under &#39;Directory&#39;, the user interface has a field alignment problem.</p></li><li><p><a name="bug_13344"></a><strong>[13344]</strong> Move up/down action is displayed for the first/last leaf node in a filtered hierarchy view. </p><p>In an ordered hierarchy view containing a filter, the &#39;Move up/down&#39; action is available for the first/last leaf node. It should not be available in the &#39;Services&#39; menu in these cases.</p></li><li><p><a name="bug_13775"></a><strong>[13775]</strong> [Chrome39] A user interface alignment problem occurs when a group is expanded. </p><p>When the user expands a group which has the default view &#39;Expanded&#39; selected, the arrow button and the vertical line of the group are not properly aligned.</p></li><li><p><a name="bug_14104"></a><strong>[14104]</strong> Unexpected error occurs after applying a view with URI criteria containing special characters &#39;:&#39; or &#39;&lt;&#39;. </p><p>After creating and applying a custom view view containing URI criteria with special characters &#39;:&#39; or &#39;&lt;&#39;, an unexpected error occurs.</p></li><li><p><a name="bug_14334"></a><strong>[14334]</strong> In an overwritten group, a Javascript error occurs when the user clicks on the context-sensitive help button of the foreign key. </p><p>In an overwritten group containing a foreign key, a Javascript error occurs when the user clicks on the context-sensitive help button of the foreign key.</p></li><li><p><a name="bug_14363"></a><strong>[14363]</strong> An UI service on a record which does not belong to the target table of the hierarchy may fail. </p><p>This happens if the record does not belong to the data set of the target table.</p></li><li><p><a name="bug_14394"></a><strong>[14394]</strong> If the join table is located in another data space, the record creation fails from a hierarchy based on simple join link. </p><p>For example, if the join table is in a child data space and the target table is in the parent data space, the record creation will fail with message &#39;data set does not exist&#39;.</p></li><li><p><a name="bug_14410"></a><strong>[14410]</strong> Cannot return to the hierarchy view after applying the Default view in the &#39;Menu&#39; table of Perspective configuration. </p></li><li><p><a name="bug_14414"></a><strong>[14414]</strong> Custom views become invalid. </p><p>If the foreign key pointing to the target table is part of a primary key containing three fields, and the table containing the foreign key is not a join table, an <code>IndexOutOfBoundsException</code> occurs and all the custom views defined on the target table are invalidated.</p></li><li><p><a name="bug_14423"></a><strong>[14423]</strong> The view publication is not displayed using a permalink. </p></li><li><p><a name="bug_14434"></a><strong>[14434]</strong> [All browsers] Unfit rectangles appear when the user accesses &#39;Manage preferred view&#39; in the &#39;Perspectives&#39; panel. </p><p>In &#39;Perspectives&#39;, when the user opens &#39;Access data&#39; under &#39;Information governance&#39;, and clicks on &#39;Manage preferred view&#39; under the &#39;View&#39; menu of a table, two grey rectangles appear. One right below the page header, the other on the footer page.</p></li><li><p><a name="bug_14469"></a><strong>[14469]</strong> The text search does not work as expected with a hierarchy based on a recursive ternary join link with an ordering field. </p><p>The text search does not return the expected result if the applied view is a hierarchy based on a recursive ternary join link with an ordering field.</p></li><li><p><a name="bug_14524"></a><strong>[14524]</strong> No error message is displayed when the user inputs an invalid &#39;date/datetime&#39; criterion in the &#39;Search&#39; panel. </p><p>When the user inputs an invalid value in the &#39;date/datetime&#39; criterion in the &#39;Search&#39; panel, no error message is displayed.</p></li><li><p><a name="bug_14539"></a><strong>[14539]</strong> The users selection for preferred view assignment has poor performance when too many users are defined in the directory. </p></li><li><p><a name="bug_14542"></a><strong>[14542]</strong> The foreign key criterion &#39;by Label&#39; is automatically changed to &#39;Direct selection&#39;. </p><p>When the foreign key criterion is in &#39;by Label&#39; mode, it is automatically changed to the &#39;Direct selection&#39; mode when using the &#39;equals (case sensitive)&#39; operator after saving.</p></li><li><p><a name="bug_14621"></a><strong>[14621]</strong> A &#39;Technical error&#39; occurs when the session timeout is set to null. </p><p>In the &#39;User interface&#39; under &#39;Administration&#39;, when the session time-out is set to null, a &#39;Technical error&#39; message is displayed. This occurs after the user logs out and logs in again.</p></li><li><p><a name="bug_14634"></a><strong>[14634]</strong> The label containing a cross script is not displayed in the &#39;Perspective&#39; panel. </p><p>When the user creates some elements in the &#39;Perspective&#39; menu, if its label contains a cross script, the label is not displayed in the perspective.</p></li><li><p><a name="bug_14708"></a><strong>[14708]</strong> [Chrome/IE] Incorrect behavior when previewing an URL icon containing only white spaces in &#39;Perspectives&#39;. </p><p>On the element creation screen in the &#39;Perspectives&#39; menu, when entering an URL which contains only white spaces in the URL icon field:</p><p>+) On chrome, after clicking on &#39;Preview&#39;, a JavaScript error occurs</p><p>+) On IE, after clicking on &#39;Preview&#39;, the system displays: &quot;Modifications made in this form will be lost?&quot;</p></li><li><p><a name="bug_14761"></a><strong>[14761]</strong> A decimal value may not be formatted as expected if a maximum number of digits facet is defined. </p><p>The defined formatting policy is not properly applied: the maximum number of digits is used as a minimum number of digits to format.</p></li><li><p><a name="bug_14829"></a><strong>[14829]</strong> Incorrect preferred view is applied when defining a preferred view for a role. </p><p>This issue occurs when a user defines a preferred view for a role which is authorized in the view and is the first assignment rule.</p><p>After the user logs in, another view is applied as the preferred view instead of the view that should be applied for the role.</p></li><li><p><a name="bug_14923"></a><strong>[14923]</strong> An error occurs when duplicating a root node in a hierarchical view. </p><p>When opening the root node of a hierarchical view and trying to &#39;Duplicate this record&#39;, the action aborts.</p></li><li><p><a name="bug_15063"></a><strong>[15063]</strong> Unnecessary queries related to records selection. </p><p>In hierarchical views, the user interface ensures the refresh of records selection. The corresponding request is executed even if no records are selected. This impacts the performance unnecessarily.</p></li><li><p><a name="bug_15130"></a><strong>[15130]</strong> An error occurs when the pagination predicate involves ordering over null values. </p><p>When the predicate issued for the pagination includes an <code>osd:is-null</code> predicate, a <code>ClassCastException</code> occurs.</p></li><li><p><a name="bug_15168"></a><strong>[15168]</strong> Hidden group is displayed in data set. </p><p>This issue occurs when the user sets a &#39;Hidden&#39; default view for a group which contains fields or tables.</p><p>After publishing the data model, the user can still see the group and its fields or tables in the data set.</p></li><li><p><a name="bug_15320"></a><strong>[15320]</strong> Missing title in the &#39;Manage recommended view&#39; modal window if the workspace title is not displayed. </p><p>The title is missing in &#39;Manage recommended view&#39; and in &#39;Sort criteria&#39; modal windows if the workspace title is not displayed.</p><p>It happens, for example, if a web component is created without displaying the title thanks to the parameters &quot;dataSetFeatures&quot;, &quot;viewFeatures&quot; or &quot;recordFeatures&quot;.</p></li><li><p><a name="bug_15337"></a><strong>[15337]</strong> &#39;Owner&#39; value of a created perspective becomes invalid in the &#39;Information&#39; screen. </p><p>This issue occurs when a user creates a perspective with a non-administrator user in the &#39;Owner&#39; field.</p><p>After the user opens &#39;Information&#39; on the created perspective, the &#39;Owner&#39; field value becomes invalid.</p></li><li><p><a name="bug_15343"></a><strong>[15343]</strong> Blocked on a waiting screen when applying a filter after removing all criteria of a filter belonging to the simple view. </p><p>This issue occurs when a user applies a simple tabular view containing a filter. After the user runs the &#39;Remove all criteria&#39; in this filter then applies another filter, a waiting screen is displayed.</p></li><li><p><a name="bug_15362"></a><strong>[15362]</strong> Blocked on waiting screen in a data set that defines a relationship when closing the data space containing the target data set. </p><p>This issue occurs in a source data set that defines a relationship to a target data set. If the data space containing the target data set is closed, a waiting screen is displayed when the user accesses the source data set.</p></li><li><p><a name="bug_15501"></a><strong>[15501]</strong> Cannot delete a child node in a filtered hierarchy. </p><p>After the user runs the &#39;Delete&#39; service on a child node in a filtered hierarchy, this node is not deleted.</p></li><li><p><a name="bug_15510"></a><strong>[15510]</strong> Incorrect result when applying a filter with a HTML criterion. </p><p>This issue occurs when the user applies a filter with a HTML criterion with the &#39;startswith/endswith&#39; operator. The result is &#39;no record found&#39; even if the records match the filter.</p></li><li><p><a name="bug_15516"></a><strong>[15516]</strong> An error message is displayed when filtering on a &#39;Time&#39; criterion. </p><p>An error message is displayed: &#39;Invalid time input&#39; when filtering on a &#39;Time&#39; criterion.</p></li><li><p><a name="bug_15525"></a><strong>[15525]</strong> An error occurs after duplicating records on the target table of a hierarchy view. </p><p>When the user duplicates a record on the target table, an error occurs on the join table.</p></li><li><p><a name="bug_15538"></a><strong>[15538]</strong> A fatal error occurs when creating or duplicating a record on a filtered recursive ternary with an ordering field. </p><p>This issue occurs after the user deletes a record on a table, and then applies a filtered recursive ternary with an ordering field with prune mode set to &#39;No&#39;. If the user then creates or duplicates a record contained in a filtered result, a fatal error occurs.</p></li><li><p><a name="bug_15555"></a><strong>[15555]</strong> An error occurs when filtering on a recursive ternary hierarchy view if the record of a source table does not exist. </p><p>When the user filters a record which does not exist on a recursive ternary hierarchy view of a source table, an error occurs.</p></li><li><p><a name="bug_15558"></a><strong>[15558]</strong> An error occurs when applying/modifying a recursive ternary hierarchy with an ordering field. </p><p>This issue occurs when the target table and the join table are in different data spaces. When the user applies or modifies a recursive ternary hierarchy with an ordering field on a target table, an error occurs.</p></li><li><p><a name="bug_15561"></a><strong>[15561]</strong> Cannot create a hierarchy view based on a recursive ternary link for a target table when the join table is in another data set. </p><p>This issue occurs when a target table and a join table are in a different data set but in the same data space. In a target table, the user cannot create a hierarchy view based on a recursive ternary link.</p></li><li><p><a name="bug_15596"></a><strong>[15596]</strong> No documentation for fields in the creation screen of a data set. </p><p>In a data set, when creating a data set by the Embedded data model, Repository data model or External data model, there is no documentation for the fields in the creation screen.</p></li></ul>
<h3>
<a name="bug-Dataworkflows"></a>Data workflows</h3>
<ul>
<li><p><a name="bug_13307"></a><strong>[13307]</strong> The user interface has an alignment problem on the workflow &#39;History&#39; screen. </p><p>When the user accesses the workflow snapshots&#39; &#39;History&#39; screen, the title is not aligned with the table summarizing the data.</p></li><li><p><a name="bug_13809"></a><strong>[13809]</strong> The Java class name is displayed in the error message when the user defines a non-existent specific script. </p><p>In a workflow model, when the user creates a script in a specific input mode with a non-existent class name, the error message displays the Java class name instead of the script label.</p></li><li><p><a name="bug_14488"></a><strong>[14488]</strong> The users selection for the workflow reallocation has poor performance when too many users are defined in the directory. </p></li><li><p><a name="bug_14683"></a><strong>[14683]</strong> The start and completion dates are always null in the work item API. </p><p>In the work item API, the methods <code>getStartDate()</code> and <code>getCompletionDate()</code> always return <code>null</code>.</p></li><li><p><a name="bug_14684"></a><strong>[14684]</strong> It is possible to call <code>ProcessLauncher.launchProcess()</code> in a <code>SubWorkflowsInvocationBean</code>. </p><p>In a <code>SubWorkflowsInvocationBean</code>, <code>ProcessLauncher</code> is used to set the sub-workflows parameters. The user may not be allowed to use it to launch the sub-workflows. The sub-workflows must be launched with <code>SubWorkflowsCreationContext.launchSubWorkflows()</code> instead.</p></li><li><p><a name="bug_14808"></a><strong>[14808]</strong> Impossible to retrieve the parent process key of a sub-workflow in the <code>handleAfterProcessInstanceStart</code> method. </p><p>Calling <code>WorkflowTriggerAfterProcessInstanceStartContext.getProcessInstance().getParentKey()</code> will always return null.</p></li><li><p><a name="bug_15848"></a><strong>[15848]</strong> Resolution of dynamic permissions on workflows is slow when the process instance key is retrieved. </p><p>Resolution of dynamic permissions on workflows is slow, when the method <code>context.getProcessInstanceKey</code> is slowed. It is a regression of 5.6.0.</p><p>This method should not build the business object <code>ProcessInstance</code> to only get the process instance key.</p></li></ul>
<h3>
<a name="bug-DistributedDataDelivery"></a>Distributed Data Delivery (D3)</h3>
<ul>
<li><p><a name="bug_14716"></a><strong>[14716]</strong> HTTP/TCP broadcast from master in version 5.6.0 to slave in version prior to 5.6.0 aborts. </p><p>However, once the slave has been restarted, its (re)registration in the master will update its configuration in the master registry and future broadcasts may succeed.</p></li><li><p><a name="bug_15047"></a><strong>[15047]</strong> The snapshot should not be removed after unsuccessful broadcast. </p><p>When broadcasting a snapshot, if it fails because of validation errors, the snapshot should not be removed.</p></li><li><p><a name="bug_15200"></a><strong>[15200]</strong> Two distinct technical UI services have the same label. </p><p>Two UI services from &#39;[D3] Master configuration&#39; have the same label: &#39;Display and refresh state of slaves&#39;. One is located in the data set and one in the &#39;registered slaves&#39; table. This is confusing for administrators when defining permissions.</p></li><li><p><a name="bug_15202"></a><strong>[15202]</strong> An administration delegation user cannot use D3 services. </p><p>When a user has D3 administration delegation, he cannot use the D3 services on D3 master and slave configuration technical data sets.</p></li></ul>
<h3>
<a name="bug-Documentation"></a>Documentation</h3>
<ul>
<li><p><a name="bug_14402"></a><strong>[14402]</strong> Missing documentation for the possible values of definition mode (x:defMode). </p><p>In the EBX5 documentation for &#39;setInheritanceEnabled&#39; of &#39;ExportImportCSVSpec&#39;, there is no documentation for the possible values of x:defMode like &#39;V&#39; and &#39;T&#39;.</p></li></ul>
<h3>
<a name="bug-ImportExport"></a>Import / Export</h3>
<ul>
<li><p><a name="bug_13713"></a><strong>[13713]</strong> Missing asterisks in front of mandatory fields on the &#39;Export&#39; and &#39;Import&#39; views. </p><p>In the &#39;CSV export&#39; and &#39;CSV Import&#39; user interface, an asterisk should be added in front of mandatory fields: List separator, etc.</p></li><li><p><a name="bug_14481"></a><strong>[14481]</strong> An error occurs when the user imports a CSV file into a table containing a computed field. </p><p>When the user imports a CSV file into a table containing a computed field, an error is displayed.</p></li><li><p><a name="bug_14936"></a><strong>[14936]</strong> When a custom view is applied, fields under a group with the property <code>osd:access=&quot;RW&quot;</code> are not exported in CSV. </p></li></ul>
<h3>
<a name="bug-J2EEIntegration"></a>J2EE Integration</h3>
<ul>
<li><p><a name="bug_15064"></a><strong>[15064]</strong> In an active/passive cluster, the backup server does not wake up in consistent state regarding the module registration. </p><p>In a failover with hot-standby deployment, if the backup server set in mode <code>failoverstandby</code> is woken up, registered EBX5 modules are not fully initialized.</p></li></ul>
<h3>
<a name="bug-Miscellaneous"></a>Miscellaneous</h3>
<ul>
<li><p><a name="bug_14648"></a><strong>[14648]</strong> [Chrome] A JavaScript error is displayed when adding, modifying or deleting a preferred view. </p><p>On Chrome, when adding a preferred view, when clicking on the &#39;Add&#39;, &#39;Edit&#39; or &#39;Delete&#39; buttons, the system displays a JavaScript error.</p></li><li><p><a name="bug_14689"></a><strong>[14689]</strong> A JavaScript error occurs after expanding a group in a perspective containing an empty section. </p><p>In a perspective containing an empty section, when the user expands a group, a JavaScript error occurs.</p></li><li><p><a name="bug_14704"></a><strong>[14704]</strong> [IE9/IE10/IE11] A JavaScript error occurs when clicking on the &#39;Preview&#39; button with file system path URL type in &#39;Icon&#39; field. </p><p>In the element creation screen in a Perspectives menu, the user enters an URL with a file system path URL. After clicking on the &#39;Preview&#39; button, a JavaScript error occurs.</p></li><li><p><a name="bug_14779"></a><strong>[14779]</strong> Running EBX5 in batch mode should not trigger the pre-load and pre-validation. </p></li><li><p><a name="bug_14793"></a><strong>[14793]</strong> Error message displayed when clicking on &#39;Create deletion requests&#39; or &#39;Clean up unreadable records&#39; from the validation report. </p><p>Under &#39;Administration&#39;, from the validation report screen, when the user clicks on &#39;Create deletion requests&#39; or &#39;Clean up unreadable records&#39;, an invalid request error message is displayed.</p></li><li><p><a name="bug_15227"></a><strong>[15227]</strong> Impossible to delete a data set when the data model compilation is erroneous. </p><p>If the data model compilation is erroneous, it is not possible to access the data set information, it is thus impossible to know who is the owner of the data set. Only the owner of the data set is able to delete it. It is impossible to delete the data set if the owner is not known.</p></li></ul>
<h3>
<a name="bug-Userinterface"></a>User interface</h3>
<ul>
<li><p><a name="bug_6568"></a><strong>[6568]</strong> In a workflow execution, buttons &#39;Reject&#39; and &#39;Accept&#39; should be deactivated as long as the workspace page is not fully loaded. </p></li><li><p><a name="bug_8432"></a><strong>[8432]</strong> [Firefox] Improper labels alignment when the user views records in the &#39;Work items&#39; table in the workflow administration. </p><p>On Firefox, in the &#39;Administration&#39; area, there is a vertical alignment issue when the user views a record in the &#39;Work items&#39; table. The line &#39;Defines the concrete action that is executed, its properties and its result&#39; is not properly aligned.</p></li><li><p><a name="bug_8584"></a><strong>[8584]</strong> [Firefox] When the user expands/collapses groups in a data set, a line is improperly aligned in the user interface. </p><p>This problem occurs when a table contains two or more groups. When the user expands and collapses groups other than the first one, the indicator arrow of the expanded/collapsed group remains aligned with the group above it.</p></li><li><p><a name="bug_10011"></a><strong>[10011]</strong> Incorrect alignment in the user interface under the &#39;Administration&#39; area of the &#39;Ergonomics and layout&#39; section. </p><p>In the &#39;Administration&#39; area, under &#39;User Interface&#39; and &#39;Ergonomics and layout&#39;, some labels are not properly aligned.</p></li><li><p><a name="bug_10556"></a><strong>[10556]</strong> An alignment problem occurs when the user creates a record under &#39;Historization profiles&#39; in the Administration area. </p><p>When the user creates a new record from the &#39;Historization profiles&#39; table under &#39;History and logs&#39; of the administration area, fields&#39; labels on this page are not properly aligned.</p></li><li><p><a name="bug_10560"></a><strong>[10560]</strong> [Ajax] In an Ajax table, clicking on an action button while the table is not fully loaded leads to an error. </p><p>In an Ajax Table, the JavaScript contained in all loaded lines is called at the end of the table loading.</p><p>If a button has been added to a cell, when the user clicks on it whereas the table is not fully loaded, a JavaScript error is displayed.</p></li><li><p><a name="bug_10568"></a><strong>[10568]</strong> The user interface has an alignment problem on the &#39;Create a data set&#39; pane. </p><p>In a data set, when the user creates a child data set, some labels are not vertically aligned.</p></li><li><p><a name="bug_10569"></a><strong>[10569]</strong> The user interface labels are not aligned on the &#39;Create a new data space&#39; pane. </p><p>When the user creates a data space, some labels are not vertically aligned.</p></li><li><p><a name="bug_10574"></a><strong>[10574]</strong> The user interface labels have an alignment problem on the &#39;Optimize &amp; Refactor&#39; pane. </p><p>In a data set, when the user runs the &#39;Optimize &amp; Refactor&#39; service, labels of the two fields on this page are not aligned vertically.</p></li><li><p><a name="bug_10580"></a><strong>[10580]</strong> The user interface labels are not aligned when the user creates a snapshot in a workflow model. </p><p>In a workflow model, when the user creates a snapshot, some fields are not vertically aligned.</p></li><li><p><a name="bug_10581"></a><strong>[10581]</strong> The user interface has an alignment problem on the data space permission pane. </p><p>In a data space, under the &#39;Actions&#39; menu, when the user accesses &#39;Permission&#39; and creates a new record, the label &#39;Permissions of child data space when created&#39; does not respect the main alignment.</p></li><li><p><a name="bug_10585"></a><strong>[10585]</strong> The user interface has an alignment problem under &#39;Input parameters&#39; in the user task creation pane. </p><p>In a workflow model, after the user creates a user task and selects a service, labels under &#39;Input parameters&#39; are not vertically aligned.</p></li><li><p><a name="bug_10588"></a><strong>[10588]</strong> The labels are not aligned on &#39;Create snapshot&#39; from a data space pane. </p><p>In a data space, when the user creates a snapshot, the labels of the two fields are not vertically aligned.</p></li><li><p><a name="bug_11558"></a><strong>[11558]</strong> HTML character codes should not be interpreted in read-only mode. </p><p>Some character sequences are interpreted as a HTML character code when displayed in read-only mode.</p></li><li><p><a name="bug_11602"></a><strong>[11602]</strong> The user interface labels are not aligned when the user creates a snapshot of a data space. </p><p>On the &#39;Create snapshot of data space&#39; screen, the labels are not vertically aligned.</p></li><li><p><a name="bug_14462"></a><strong>[14462]</strong> In a foreign key combo box, the selector button is displayed when the target table is hidden. </p><p>In a foreign key combo box, the selector button is displayed when the target table is hidden. When the user clicks on this button it leads to an &quot;Access denied&quot; error message displayed in a popup.</p></li><li><p><a name="bug_14468"></a><strong>[14468]</strong> A <code>UILabelRender</code> with HTML code is not rendered as expected. </p><p>HTML code is escaped.</p></li><li><p><a name="bug_14577"></a><strong>[14577]</strong> An exception may occur when a &#39;UIService&#39; is launched in a multi-user environment. </p><p>Two requests may interfere and corrupt the <code>ServiceContext</code>.</p></li><li><p><a name="bug_14594"></a><strong>[14594]</strong> A cross site scripting (XSS) issue can occur due to the welcome message on the login page. </p></li><li><p><a name="bug_14615"></a><strong>[14615]</strong> The label description is inconsistently displayed depending on the situation. </p><p>When the description contains the break line character, it appears incorrectly for inheritance or read-only fields (using &#39;AccessRule&#39;).</p></li><li><p><a name="bug_14742"></a><strong>[14742]</strong> When too many data spaces are defined in the repository, the data space selector has poor performances. </p></li><li><p><a name="bug_14765"></a><strong>[14765]</strong> For services on data spaces and snapshots, the &#39;type&#39; attribute does not work as expected. </p><p>Services on data spaces and snapshots declared in module.xml with type &#39;version&#39; are also available on data spaces. Services declared with type &#39;branch&#39; are also available on snapshots.</p></li><li><p><a name="bug_14768"></a><strong>[14768]</strong> The encoding of the parameter &#39;returnCode&#39; is not strong enough even if the &#39;strongEncoding&#39; option has been set. </p><p>The encoding of the parameter &#39;returnCode&#39; is not strong enough even if the option <code>ebx.urlParameters.strongEncoding=true</code> has been set.</p></li><li><p><a name="bug_14772"></a><strong>[14772]</strong> The pre-validation of values uses the &#39;HTTP Get&#39; method. </p><p>In the user interface forms, the pre-validation of values should use the &#39;HTTP Post&#39; method instead of the &#39;Get method&#39; in order to prevent cross-scripting (XSS) or a value length limitation issue.</p></li><li><p><a name="bug_14834"></a><strong>[14834]</strong> When too many users are defined in the directory, the data set ownership user selection has poor performances. </p><p>The user selection for data set ownership has poor performances when too many users are defined in the directory.</p></li><li><p><a name="bug_14835"></a><strong>[14835]</strong> The user selection for data space ownership has poor performance when too many users are defined in the directory. </p></li><li><p><a name="bug_15134"></a><strong>[15134]</strong> [IE8] A JavaScript error occurs when using a typed search criterion to a foreign key. </p><p>[IE8] A JavaScript error occurs after adding a typed search criterion to a foreign key when the user tries to open &#39;select an item to add&#39;.</p></li><li><p><a name="bug_15157"></a><strong>[15157]</strong> An internal code is persisted in the repository instead of a null value while using a combo-box. </p><p>When using a <code>UIComboBox</code> widget with a specific nomenclature in a <code>UIBeanEditor</code>, the &quot;ebx:null-hucn6i89adzvxu5f7fi3&quot; value is persisted in the repository instead of null.</p><p>The problem appears when selecting the &quot;[Not defined]&quot; default choice in the item list, if the field had previously a non-null value.</p></li><li><p><a name="bug_15293"></a><strong>[15293]</strong> Date and time are not always displayed using the configured formatting policy. </p><p>It occurs mainly on data space creation and closing dates, record creation and modification dates, work item start and end dates, etc.</p></li><li><p><a name="bug_15471"></a><strong>[15471]</strong> A technical error occurs on an existing repository with an invalid or missing license key. </p><p>A technical error occurs because the underlying data model or the application definition (finite state machine) fails to setup.</p></li><li><p><a name="bug_15563"></a><strong>[15563]</strong> [IE8] Error in a custom user interface using Internet Explorer 8. </p><p>An error occurs in a custom <code>UIFormPane</code> on IE8. This error is due to a JavaScript error.</p><p>The problem occurs while using a <code>UITable</code> to display a table.</p></li><li><p><a name="bug_15662"></a><strong>[15662]</strong> Stuck HTTP threads may occur. </p><p>In some circumstances, HTTP threads may be stuck.</p></li></ul>
<h3>
<a name="bug-UsersPermissions"></a>Users &amp; Permissions</h3>
<ul>
<li><p><a name="bug_11958"></a><strong>[11958]</strong> The data space owner should be able to import permissions in the data space permissions table. </p><p>The owner of a data space, who does not have the administrator role, cannot import XML or CSV files into the permissions table of the data space.</p></li><li><p><a name="bug_13813"></a><strong>[13813]</strong> When the user duplicates a record with a hidden or read-only field containing data, an error occurs. </p><p>When the user duplicates a record containing a field with a hidden or read-only access policy, an error message is displayed: the user has no right to set the value for this field.</p><p>Record duplication should be similar to record creation, except that all modifiable fields are pre-filled with the values of the record to duplicate.</p><p>See <a href="#duplicatingRecords">Duplicating records with unmodifiable fields</a> for more information.</p></li></ul>
<div id="ebx_breadcrumbBottom">
<span class="ebx_breadcrumbLabel"><a href="./index.html">Release Notes</a></span></div>
</div>
<p id="ebx_footer"><b>EBX5 Version 5.6.1 Fix M [0985:0021]. </b>Copyright &copy; <a href="http://www.orchestranetworks.com" target="_blank" style="text-decoration: none;">Orchestra Networks</a> 2000-2015. All rights reserved.<br></br>Trademarks and brand names referred to in this web site relating to organizations other than Orchestra Networks are the property of those organizations and Orchestra Networks makes no claims to such property.</p></div>
<script type="text/javaScript" src="../resources/yui/yahoo/yahoo-min.js">
</script>
<script type="text/javaScript" src="../resources/yui/event/event-min.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_doc_utils.js">
</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_simplePage.js">
</script>
<script type="text/javaScript">
var ie6CompatibilityCSSURL = "../resources/stylesheets/ebx_ie6_compatibility.css";</script>
<script type="text/javaScript" src="../resources/jscripts/ebx_ie6_compatibility.js">
</script>
</body>
</html>
